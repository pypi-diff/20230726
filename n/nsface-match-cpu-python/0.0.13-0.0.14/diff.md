# Comparing `tmp/nsface_match_cpu_python-0.0.13-py3-none-any.whl.zip` & `tmp/nsface_match_cpu_python-0.0.14-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,13 +1,19 @@
-Zip file size: 5148 bytes, number of entries: 11
--rw-r--r--  2.0 unx       40 b- defN 23-Jan-24 23:58 nsface_match_cpu/__init__.py
--rw-r--r--  2.0 unx       37 b- defN 23-Jan-24 23:58 nsface_match_cpu/face/__init__.py
--rw-r--r--  2.0 unx     5030 b- defN 23-Jan-24 23:58 nsface_match_cpu/face/common.py
--rw-r--r--  2.0 unx       77 b- defN 23-Jan-24 23:58 nsface_match_cpu/model/__init__.py
--rw-r--r--  2.0 unx     1010 b- defN 23-Jan-24 23:58 nsface_match_cpu/model/load_arcface.py
--rw-r--r--  2.0 unx      665 b- defN 23-Jan-24 23:58 nsface_match_cpu/model/load_onnx.py
--rw-r--r--  2.0 unx     1152 b- defN 23-Jan-24 23:58 nsface_match_cpu/model/load_vino.py
--rw-r--r--  2.0 unx      314 b- defN 23-Jan-26 08:39 nsface_match_cpu_python-0.0.13.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Jan-26 08:39 nsface_match_cpu_python-0.0.13.dist-info/WHEEL
--rw-r--r--  2.0 unx       17 b- defN 23-Jan-26 08:39 nsface_match_cpu_python-0.0.13.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx      991 b- defN 23-Jan-26 08:39 nsface_match_cpu_python-0.0.13.dist-info/RECORD
-11 files, 9425 bytes uncompressed, 3430 bytes compressed:  63.6%
+Zip file size: 11702 bytes, number of entries: 17
+-rw-r--r--  2.0 unx       40 b- defN 23-Jan-26 22:19 nsface_match_cpu/__init__.py
+-rw-r--r--  2.0 unx       37 b- defN 23-Jan-26 22:19 nsface_match_cpu/face/__init__.py
+-rw-r--r--  2.0 unx     6077 b- defN 23-Jul-26 03:16 nsface_match_cpu/face/common.py
+-rw-rw-r--  2.0 unx      219 b- defN 23-Jan-26 22:19 nsface_match_cpu/face/__pycache__/__init__.cpython-38.pyc
+-rw-rw-r--  2.0 unx     5217 b- defN 23-Jan-26 22:19 nsface_match_cpu/face/__pycache__/common.cpython-38.pyc
+-rw-r--r--  2.0 unx       77 b- defN 23-Jan-26 22:19 nsface_match_cpu/model/__init__.py
+-rw-r--r--  2.0 unx     1010 b- defN 23-Jan-26 22:19 nsface_match_cpu/model/load_arcface.py
+-rw-r--r--  2.0 unx      665 b- defN 23-Jan-26 22:19 nsface_match_cpu/model/load_onnx.py
+-rw-r--r--  2.0 unx     1152 b- defN 23-Jan-26 22:19 nsface_match_cpu/model/load_vino.py
+-rw-rw-r--  2.0 unx      234 b- defN 23-Jan-26 22:19 nsface_match_cpu/model/__pycache__/__init__.cpython-38.pyc
+-rw-rw-r--  2.0 unx     1256 b- defN 23-Jan-26 22:19 nsface_match_cpu/model/__pycache__/load_arcface.cpython-38.pyc
+-rw-rw-r--  2.0 unx     1168 b- defN 23-Jan-26 22:19 nsface_match_cpu/model/__pycache__/load_onnx.cpython-38.pyc
+-rw-rw-r--  2.0 unx     1590 b- defN 23-Jan-26 22:19 nsface_match_cpu/model/__pycache__/load_vino.cpython-38.pyc
+-rw-r--r--  2.0 unx      333 b- defN 23-Jul-26 03:16 nsface_match_cpu_python-0.0.14.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jul-26 03:16 nsface_match_cpu_python-0.0.14.dist-info/WHEEL
+-rw-r--r--  2.0 unx       17 b- defN 23-Jul-26 03:16 nsface_match_cpu_python-0.0.14.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     1681 b- defN 23-Jul-26 03:16 nsface_match_cpu_python-0.0.14.dist-info/RECORD
+17 files, 20865 bytes uncompressed, 8828 bytes compressed:  57.7%
```

## zipnote {}

```diff
@@ -3,32 +3,50 @@
 
 Filename: nsface_match_cpu/face/__init__.py
 Comment: 
 
 Filename: nsface_match_cpu/face/common.py
 Comment: 
 
+Filename: nsface_match_cpu/face/__pycache__/__init__.cpython-38.pyc
+Comment: 
+
+Filename: nsface_match_cpu/face/__pycache__/common.cpython-38.pyc
+Comment: 
+
 Filename: nsface_match_cpu/model/__init__.py
 Comment: 
 
 Filename: nsface_match_cpu/model/load_arcface.py
 Comment: 
 
 Filename: nsface_match_cpu/model/load_onnx.py
 Comment: 
 
 Filename: nsface_match_cpu/model/load_vino.py
 Comment: 
 
-Filename: nsface_match_cpu_python-0.0.13.dist-info/METADATA
+Filename: nsface_match_cpu/model/__pycache__/__init__.cpython-38.pyc
+Comment: 
+
+Filename: nsface_match_cpu/model/__pycache__/load_arcface.cpython-38.pyc
+Comment: 
+
+Filename: nsface_match_cpu/model/__pycache__/load_onnx.cpython-38.pyc
+Comment: 
+
+Filename: nsface_match_cpu/model/__pycache__/load_vino.cpython-38.pyc
+Comment: 
+
+Filename: nsface_match_cpu_python-0.0.14.dist-info/METADATA
 Comment: 
 
-Filename: nsface_match_cpu_python-0.0.13.dist-info/WHEEL
+Filename: nsface_match_cpu_python-0.0.14.dist-info/WHEEL
 Comment: 
 
-Filename: nsface_match_cpu_python-0.0.13.dist-info/top_level.txt
+Filename: nsface_match_cpu_python-0.0.14.dist-info/top_level.txt
 Comment: 
 
-Filename: nsface_match_cpu_python-0.0.13.dist-info/RECORD
+Filename: nsface_match_cpu_python-0.0.14.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## nsface_match_cpu/face/common.py

```diff
@@ -20,30 +20,66 @@
             self.update(idname,feat)
         else:
             feat = feat / np.linalg.norm(feat)
             self.db[idname]=feat
             self.update_flag=True
             self.db_size+=1
 
+    def add_dict(self, idname, feat,key='unmask'):
+
+        if feat.shape==(512,): # feat shape = (1,512)
+            feat = np.expand_dims(feat,axis=0)
+
+        if idname in self.db:
+            feat = feat / np.linalg.norm(feat)
+            self.update_dict(idname,feat,key)
+        else:
+            self.db[idname]={}
+            feat = feat / np.linalg.norm(feat)
+            self.db[idname][key]=feat
+            self.update_flag=True
+            self.db_size+=1
+
     def get(self,idname):
         return self.db[idname]
+
+    def get_dict(self,idname,key='unmask'):
+        return self.db[idname][key]
                 
     def update(self, idname, feat): 
         if not idname in self.db:
             self.add(idname,feat)
         else:
             self.db[idname]=feat
             self.update_flag=True
 
+    def update_dict(self, idname, feat,key='unmask'):
+        if not idname in self.db:
+            self.add_dict(idname,feat,key)
+        else:
+            self.db[idname][key]=feat
+            self.update_flag=True
+
     def delete(self, idname):
         if idname in self.db:
             del self.db[idname]
             self.db_size-=1
             self.update_flag=True
 
+    def delete_dict(self, idname,key='unmask'):
+        if idname in self.db:
+            del self.db[idname][key]
+            self.update_flag=True
+
+        if not self.db[idname]:
+            del self.db[idname]
+
+        if not idname in self.db:
+            self.db_size-=1
+
 
 class FaceRecog:
     def __init__(self,db_obj):
 
         self.available_models=[
             'glint360k-r50-arcface_multiple','glint360k-r100-arcface_multiple','glint360k-r100m-arcface_multiple', \
             'glint360k-r100m-pfc-arcface_multiple','glint360k-r200-arcface_multiple','glint360k-r200-pfc-arcface_multiple', \
```

