# Comparing `tmp/nsface_match_python-0.0.13-py3-none-any.whl.zip` & `tmp/nsface_match_python-0.0.14-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,14 +1,21 @@
-Zip file size: 7324 bytes, number of entries: 12
--rw-r--r--  2.0 unx       40 b- defN 23-Jan-24 23:58 nsface_match/__init__.py
--rw-r--r--  2.0 unx       37 b- defN 23-Jan-24 23:58 nsface_match/face/__init__.py
--rw-r--r--  2.0 unx     5040 b- defN 23-Jan-24 23:58 nsface_match/face/common.py
--rw-r--r--  2.0 unx      101 b- defN 23-Jan-24 23:58 nsface_match/model/__init__.py
--rw-r--r--  2.0 unx     2046 b- defN 23-Jan-24 23:58 nsface_match/model/load_arcface.py
--rw-r--r--  2.0 unx      795 b- defN 23-Jan-24 23:58 nsface_match/model/load_onnx.py
--rw-r--r--  2.0 unx     5972 b- defN 23-Jan-24 23:58 nsface_match/model/load_trt.py
--rw-r--r--  2.0 unx     1152 b- defN 23-Jan-24 23:58 nsface_match/model/load_vino.py
--rw-r--r--  2.0 unx      350 b- defN 23-Jan-26 08:39 nsface_match_python-0.0.13.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Jan-26 08:39 nsface_match_python-0.0.13.dist-info/WHEEL
--rw-r--r--  2.0 unx       13 b- defN 23-Jan-26 08:39 nsface_match_python-0.0.13.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     1035 b- defN 23-Jan-26 08:39 nsface_match_python-0.0.13.dist-info/RECORD
-12 files, 16673 bytes uncompressed, 5558 bytes compressed:  66.7%
+Zip file size: 17466 bytes, number of entries: 19
+-rw-r--r--  2.0 unx       40 b- defN 23-Jan-26 22:19 nsface_match/__init__.py
+-rw-r--r--  2.0 unx       37 b- defN 23-Jan-26 22:19 nsface_match/face/__init__.py
+-rw-r--r--  2.0 unx     6087 b- defN 23-Jul-26 01:11 nsface_match/face/common.py
+-rw-rw-r--  2.0 unx      228 b- defN 23-Jan-26 22:19 nsface_match/face/__pycache__/__init__.cpython-38.pyc
+-rw-rw-r--  2.0 unx     5204 b- defN 23-Jan-26 22:19 nsface_match/face/__pycache__/common.cpython-38.pyc
+-rw-r--r--  2.0 unx      101 b- defN 23-Jan-26 22:19 nsface_match/model/__init__.py
+-rw-r--r--  2.0 unx     2046 b- defN 23-Jan-26 22:19 nsface_match/model/load_arcface.py
+-rw-r--r--  2.0 unx      795 b- defN 23-Jan-26 22:19 nsface_match/model/load_onnx.py
+-rw-r--r--  2.0 unx     5972 b- defN 23-Jan-26 22:19 nsface_match/model/load_trt.py
+-rw-r--r--  2.0 unx     1152 b- defN 23-Jan-26 22:19 nsface_match/model/load_vino.py
+-rw-rw-r--  2.0 unx      263 b- defN 23-Jan-26 22:19 nsface_match/model/__pycache__/__init__.cpython-38.pyc
+-rw-rw-r--  2.0 unx     2133 b- defN 23-Jan-26 22:19 nsface_match/model/__pycache__/load_arcface.cpython-38.pyc
+-rw-rw-r--  2.0 unx     1251 b- defN 23-Jan-26 22:19 nsface_match/model/__pycache__/load_onnx.cpython-38.pyc
+-rw-rw-r--  2.0 unx     5591 b- defN 23-Jan-26 22:19 nsface_match/model/__pycache__/load_trt.cpython-38.pyc
+-rw-rw-r--  2.0 unx     1599 b- defN 23-Jan-26 22:19 nsface_match/model/__pycache__/load_vino.cpython-38.pyc
+-rw-r--r--  2.0 unx      369 b- defN 23-Jul-26 01:14 nsface_match_python-0.0.14.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jul-26 01:14 nsface_match_python-0.0.14.dist-info/WHEEL
+-rw-r--r--  2.0 unx       13 b- defN 23-Jul-26 01:14 nsface_match_python-0.0.14.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     1812 b- defN 23-Jul-26 01:14 nsface_match_python-0.0.14.dist-info/RECORD
+19 files, 34785 bytes uncompressed, 14408 bytes compressed:  58.6%
```

## zipnote {}

```diff
@@ -3,14 +3,20 @@
 
 Filename: nsface_match/face/__init__.py
 Comment: 
 
 Filename: nsface_match/face/common.py
 Comment: 
 
+Filename: nsface_match/face/__pycache__/__init__.cpython-38.pyc
+Comment: 
+
+Filename: nsface_match/face/__pycache__/common.cpython-38.pyc
+Comment: 
+
 Filename: nsface_match/model/__init__.py
 Comment: 
 
 Filename: nsface_match/model/load_arcface.py
 Comment: 
 
 Filename: nsface_match/model/load_onnx.py
@@ -18,20 +24,35 @@
 
 Filename: nsface_match/model/load_trt.py
 Comment: 
 
 Filename: nsface_match/model/load_vino.py
 Comment: 
 
-Filename: nsface_match_python-0.0.13.dist-info/METADATA
+Filename: nsface_match/model/__pycache__/__init__.cpython-38.pyc
+Comment: 
+
+Filename: nsface_match/model/__pycache__/load_arcface.cpython-38.pyc
+Comment: 
+
+Filename: nsface_match/model/__pycache__/load_onnx.cpython-38.pyc
+Comment: 
+
+Filename: nsface_match/model/__pycache__/load_trt.cpython-38.pyc
+Comment: 
+
+Filename: nsface_match/model/__pycache__/load_vino.cpython-38.pyc
+Comment: 
+
+Filename: nsface_match_python-0.0.14.dist-info/METADATA
 Comment: 
 
-Filename: nsface_match_python-0.0.13.dist-info/WHEEL
+Filename: nsface_match_python-0.0.14.dist-info/WHEEL
 Comment: 
 
-Filename: nsface_match_python-0.0.13.dist-info/top_level.txt
+Filename: nsface_match_python-0.0.14.dist-info/top_level.txt
 Comment: 
 
-Filename: nsface_match_python-0.0.13.dist-info/RECORD
+Filename: nsface_match_python-0.0.14.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## nsface_match/face/common.py

```diff
@@ -21,30 +21,66 @@
             self.update(idname,feat)
         else:
             feat = feat / np.linalg.norm(feat)
             self.db[idname]=feat
             self.update_flag=True
             self.db_size+=1
 
+    def add_dict(self, idname, feat,key='unmask'):
+
+        if feat.shape==(512,): # feat shape = (1,512)
+            feat = np.expand_dims(feat,axis=0)
+
+        if idname in self.db:
+            feat = feat / np.linalg.norm(feat)
+            self.update_dict(idname,feat,key)
+        else:
+            self.db[idname]={}
+            feat = feat / np.linalg.norm(feat)
+            self.db[idname][key]=feat
+            self.update_flag=True
+            self.db_size+=1
+
     def get(self,idname):
         return self.db[idname]
+
+    def get_dict(self,idname,key='unmask'):
+        return self.db[idname][key]
                 
     def update(self, idname, feat):
         if not idname in self.db:
             self.add(idname,feat)
         else:
             self.db[idname]=feat
             self.update_flag=True
 
+    def update_dict(self, idname, feat,key='unmask'):
+        if not idname in self.db:
+            self.add_dict(idname,feat,key)
+        else:
+            self.db[idname][key]=feat
+            self.update_flag=True
+
     def delete(self, idname):
         if idname in self.db:
             del self.db[idname]
             self.db_size-=1
             self.update_flag=True
 
+    def delete_dict(self, idname,key='unmask'):
+        if idname in self.db:
+            del self.db[idname][key]
+            self.update_flag=True
+
+        if not self.db[idname]:
+            del self.db[idname]
+
+        if not idname in self.db:
+            self.db_size-=1
+
 
 class FaceRecog:
     def __init__(self,db_obj):
 
 
         self.available_models=[
             'glint360k-r50-arcface_multiple','glint360k-r100-arcface_multiple','glint360k-r100m-arcface_multiple', \
```

