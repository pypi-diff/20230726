# Comparing `tmp/piargus-0.3.0-py3-none-any.whl.zip` & `tmp/piargus-0.4.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,32 +1,50 @@
-Zip file size: 34231 bytes, number of entries: 30
--rw-rw-rw-  2.0 fat      940 b- defN 23-Jul-09 19:54 piargus/__init__.py
+Zip file size: 53386 bytes, number of entries: 48
+-rw-rw-rw-  2.0 fat     1436 b- defN 23-Jul-14 09:03 piargus/__init__.py
 -rw-rw-rw-  2.0 fat     1917 b- defN 23-Jul-09 19:54 piargus/anytree_utils.py
 -rw-rw-rw-  2.0 fat     4108 b- defN 23-Feb-01 17:28 piargus/apriori.py
 -rw-rw-rw-  2.0 fat     2933 b- defN 23-Feb-01 17:28 piargus/argusreport.py
--rw-rw-rw-  2.0 fat     3796 b- defN 23-Jul-09 20:00 piargus/batchwriter.py
+-rw-rw-rw-  2.0 fat     3802 b- defN 23-Jul-14 08:30 piargus/batchwriter.py
 -rw-rw-rw-  2.0 fat      628 b- defN 23-Jul-09 22:01 piargus/codehierarchy.py
 -rw-rw-rw-  2.0 fat     1766 b- defN 23-Jul-09 19:54 piargus/codelist.py
 -rw-rw-rw-  2.0 fat      379 b- defN 23-Jul-09 22:00 piargus/constants.py
 -rw-rw-rw-  2.0 fat     1251 b- defN 23-Jul-03 21:03 piargus/graphrecode.py
 -rw-rw-rw-  2.0 fat     1093 b- defN 23-Jul-10 10:38 piargus/hierarchy.py
 -rw-rw-rw-  2.0 fat      408 b- defN 23-Jul-06 22:15 piargus/hierarchycode.py
 -rw-rw-rw-  2.0 fat      403 b- defN 23-Jul-06 16:59 piargus/hiercode.py
 -rw-rw-rw-  2.0 fat     4774 b- defN 23-Jul-10 11:58 piargus/inputdata.py
--rw-rw-rw-  2.0 fat    10703 b- defN 23-Jul-09 19:54 piargus/job.py
+-rw-rw-rw-  2.0 fat    11319 b- defN 23-Jul-14 11:20 piargus/job.py
 -rw-rw-rw-  2.0 fat     6149 b- defN 23-Jul-09 22:16 piargus/metadata.py
 -rw-rw-rw-  2.0 fat     3000 b- defN 23-Feb-10 16:24 piargus/microdata.py
 -rw-rw-rw-  2.0 fat     5046 b- defN 23-Jul-03 21:03 piargus/safetyrule.py
 -rw-rw-rw-  2.0 fat     5102 b- defN 23-Jul-09 19:54 piargus/table.py
 -rw-rw-rw-  2.0 fat     5660 b- defN 23-Jul-09 22:02 piargus/tabledata.py
 -rw-rw-rw-  2.0 fat     2180 b- defN 23-Feb-01 17:28 piargus/tableresult.py
 -rw-rw-rw-  2.0 fat     2581 b- defN 23-Jul-03 21:03 piargus/tableset.py
 -rw-rw-rw-  2.0 fat     4311 b- defN 23-Jul-03 21:03 piargus/tauargus.py
 -rw-rw-rw-  2.0 fat     4101 b- defN 23-Jul-11 14:16 piargus/treehierarchy.py
 -rw-rw-rw-  2.0 fat     1205 b- defN 23-Jul-09 19:54 piargus/treerecode.py
 -rw-rw-rw-  2.0 fat     1368 b- defN 23-Jul-03 21:03 piargus/utils.py
--rw-rw-rw-  2.0 fat    11357 b- defN 23-Jul-13 08:33 piargus-0.3.0.dist-info/LICENSE
--rw-rw-rw-  2.0 fat     3104 b- defN 23-Jul-13 08:33 piargus-0.3.0.dist-info/METADATA
--rw-rw-rw-  2.0 fat       92 b- defN 23-Jul-13 08:33 piargus-0.3.0.dist-info/WHEEL
--rw-rw-rw-  2.0 fat        8 b- defN 23-Jul-13 08:33 piargus-0.3.0.dist-info/top_level.txt
--rw-rw-r--  2.0 fat     2311 b- defN 23-Jul-13 08:33 piargus-0.3.0.dist-info/RECORD
-30 files, 92674 bytes uncompressed, 30603 bytes compressed:  67.0%
+-rw-rw-rw-  2.0 fat      272 b- defN 23-Jul-14 08:50 piargus/inputdata/__init__.py
+-rw-rw-rw-  2.0 fat     1779 b- defN 23-Jul-13 10:58 piargus/inputdata/codelist.py
+-rw-rw-rw-  2.0 fat     4620 b- defN 23-Jul-20 15:19 piargus/inputdata/inputdata.py
+-rw-rw-rw-  2.0 fat     6285 b- defN 23-Jul-14 09:01 piargus/inputdata/metadata.py
+-rw-rw-rw-  2.0 fat     2989 b- defN 23-Jul-13 12:50 piargus/inputdata/microdata.py
+-rw-rw-rw-  2.0 fat     5757 b- defN 23-Jul-14 08:53 piargus/inputdata/tabledata.py
+-rw-rw-rw-  2.0 fat      281 b- defN 23-Jul-14 09:01 piargus/inputdata/hierarchy/__init__.py
+-rw-rw-rw-  2.0 fat     1917 b- defN 23-Jul-22 15:37 piargus/inputdata/hierarchy/anytree_utils.py
+-rw-rw-rw-  2.0 fat      251 b- defN 23-Jul-20 15:18 piargus/inputdata/hierarchy/flathierarchy.py
+-rw-rw-rw-  2.0 fat     1196 b- defN 23-Jul-22 15:48 piargus/inputdata/hierarchy/hierarchy.py
+-rw-rw-rw-  2.0 fat      680 b- defN 23-Jul-14 09:01 piargus/inputdata/hierarchy/levelhierarchy.py
+-rw-rw-rw-  2.0 fat     4487 b- defN 23-Jul-22 15:37 piargus/inputdata/hierarchy/treehierarchy.py
+-rw-rw-rw-  2.0 fat      159 b- defN 23-Jul-14 08:27 piargus/table/__init__.py
+-rw-rw-rw-  2.0 fat     4108 b- defN 23-Feb-01 17:28 piargus/table/apriori.py
+-rw-rw-rw-  2.0 fat     5046 b- defN 23-Jul-03 21:03 piargus/table/safetyrule.py
+-rw-rw-rw-  2.0 fat     5103 b- defN 23-Jul-14 08:31 piargus/table/table.py
+-rw-rw-rw-  2.0 fat     2181 b- defN 23-Jul-14 08:56 piargus/table/tableresult.py
+-rw-rw-rw-  2.0 fat     1205 b- defN 23-Jul-13 08:45 piargus/table/treerecode.py
+-rw-rw-rw-  2.0 fat    11357 b- defN 23-Jul-26 07:17 piargus-0.4.0.dist-info/LICENSE
+-rw-rw-rw-  2.0 fat     3104 b- defN 23-Jul-26 07:17 piargus-0.4.0.dist-info/METADATA
+-rw-rw-rw-  2.0 fat       92 b- defN 23-Jul-26 07:17 piargus-0.4.0.dist-info/WHEEL
+-rw-rw-rw-  2.0 fat        8 b- defN 23-Jul-26 07:17 piargus-0.4.0.dist-info/top_level.txt
+-rw-rw-r--  2.0 fat     3919 b- defN 23-Jul-26 07:17 piargus-0.4.0.dist-info/RECORD
+48 files, 143716 bytes uncompressed, 47218 bytes compressed:  67.1%
```

## zipnote {}

```diff
@@ -69,23 +69,77 @@
 
 Filename: piargus/treerecode.py
 Comment: 
 
 Filename: piargus/utils.py
 Comment: 
 
-Filename: piargus-0.3.0.dist-info/LICENSE
+Filename: piargus/inputdata/__init__.py
 Comment: 
 
-Filename: piargus-0.3.0.dist-info/METADATA
+Filename: piargus/inputdata/codelist.py
 Comment: 
 
-Filename: piargus-0.3.0.dist-info/WHEEL
+Filename: piargus/inputdata/inputdata.py
 Comment: 
 
-Filename: piargus-0.3.0.dist-info/top_level.txt
+Filename: piargus/inputdata/metadata.py
 Comment: 
 
-Filename: piargus-0.3.0.dist-info/RECORD
+Filename: piargus/inputdata/microdata.py
+Comment: 
+
+Filename: piargus/inputdata/tabledata.py
+Comment: 
+
+Filename: piargus/inputdata/hierarchy/__init__.py
+Comment: 
+
+Filename: piargus/inputdata/hierarchy/anytree_utils.py
+Comment: 
+
+Filename: piargus/inputdata/hierarchy/flathierarchy.py
+Comment: 
+
+Filename: piargus/inputdata/hierarchy/hierarchy.py
+Comment: 
+
+Filename: piargus/inputdata/hierarchy/levelhierarchy.py
+Comment: 
+
+Filename: piargus/inputdata/hierarchy/treehierarchy.py
+Comment: 
+
+Filename: piargus/table/__init__.py
+Comment: 
+
+Filename: piargus/table/apriori.py
+Comment: 
+
+Filename: piargus/table/safetyrule.py
+Comment: 
+
+Filename: piargus/table/table.py
+Comment: 
+
+Filename: piargus/table/tableresult.py
+Comment: 
+
+Filename: piargus/table/treerecode.py
+Comment: 
+
+Filename: piargus-0.4.0.dist-info/LICENSE
+Comment: 
+
+Filename: piargus-0.4.0.dist-info/METADATA
+Comment: 
+
+Filename: piargus-0.4.0.dist-info/WHEEL
+Comment: 
+
+Filename: piargus-0.4.0.dist-info/top_level.txt
+Comment: 
+
+Filename: piargus-0.4.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## piargus/__init__.py

```diff
@@ -1,23 +1,64 @@
-from piargus.apriori import Apriori
 from piargus.argusreport import TauArgusException
 from piargus.batchwriter import BatchWriter
-from piargus.codelist import CodeList
 from piargus.constants import *
-from piargus.treerecode import TreeRecode
-from piargus.hierarchy import Hierarchy
-from piargus.treehierarchy import TreeHierarchy, TreeHierarchyNode
-from piargus.codehierarchy import CodeHierarchy
-from piargus.inputdata import InputData
-from piargus.job import Job
-from piargus.job import JobSetupError
-from piargus.metadata import MetaData
-from piargus.microdata import MicroData
-from piargus.safetyrule import dominance_rule, percent_rule, frequency_rule, request_rule, zero_rule, \
-    missing_rule, weight_rule, manual_rule, p_rule, nk_rule
-from piargus.table import Table
-from piargus.tabledata import TableData
-from piargus.tableset import TableSet
+from piargus.inputdata import InputData, MetaData, MicroData, TableData, CodeList
+from piargus.inputdata.hierarchy import Hierarchy, FlatHierarchy, TreeHierarchy, \
+    TreeHierarchyNode, LevelHierarchy
+from piargus.job import Job, JobSetupError
+from piargus.table import Table, Apriori, TreeRecode
+from piargus.table.safetyrule import *
 from piargus.tauargus import TauArgus
 
+__version__ = "0.4.0"
 
-__version__ = "0.3.0"
+__all__ = [
+    "Apriori",
+    "TauArgusException",
+    "BatchWriter",
+    "CodeList",
+    "TreeRecode",
+    "InputData",
+    "MetaData",
+    "MicroData",
+    "TableData",
+    "Job",
+    "JobSetupError",
+
+    # Hierarchy
+    "Hierarchy",
+    "FlatHierarchy",
+    "TreeHierarchy",
+    "TreeHierarchyNode",
+    "LevelHierarchy",
+
+    # Safety rules
+    "dominance_rule",
+    "percent_rule",
+    "frequency_rule",
+    "request_rule",
+    "zero_rule",
+    "missing_rule",
+    "weight_rule",
+    "manual_rule",
+    "p_rule",
+    "nk_rule",
+    "Table",
+    "TauArgus",
+
+    # Constants
+    "SAFE",
+    "UNSAFE",
+    "PROTECTED",
+    "SUPPRESSED",
+    "EMPTY",
+    "FREQUENCY_RESPONSE",
+    "FREQUENCY_COST",
+    "UNITY_COST",
+    "DISTANCE_COST",
+    "GHMITER",
+    "MODULAR",
+    "OPTIMAL",
+    "NETWORK",
+    "ROUNDING",
+    "TABULAR_ADJUSTMENT",
+]
```

## piargus/batchwriter.py

```diff
@@ -1,9 +1,9 @@
 from .constants import FREQUENCY_RESPONSE
-from .safetyrule import make_safety_rule
+from .table.safetyrule import make_safety_rule
 from .utils import format_argument
 
 
 class BatchWriter:
     """
     Helper to write a batch file for use with TauArgus.
```

## piargus/job.py

```diff
@@ -1,27 +1,26 @@
 from pathlib import Path
 from tempfile import TemporaryDirectory
-from typing import Optional, Union, Mapping, Hashable, Iterable
+from typing import Optional, Union, Mapping, Hashable, Iterable, Sequence, Any
 
 from .batchwriter import BatchWriter
-from .inputdata import InputData
-from .metadata import MetaData
-from .table import Table
-from .tabledata import TableData
-from .tableset import TableSet
-from .treerecode import TreeRecode
+from .inputdata import InputData, TableData, MetaData
+from .table import Table, TreeRecode
 from .utils import slugify
 
 
 class Job:
     def __init__(
         self,
         input_data: InputData,
         tables: Optional[Union[Mapping[Hashable, Table], Iterable[Table]]] = None,
+        *,
         metadata: Optional[MetaData] = None,
+        linked_suppress_method: Optional[str] = None,
+        linked_suppress_method_args: Sequence[Any] = (),
         directory: Optional[Union[str, Path]] = None,
         name: Optional[str] = None,
         logbook: Union[bool, str] = True,
         interactive: bool = False,
         setup: bool = True,
     ):
         """
@@ -36,29 +35,37 @@
         the existing file is used. If modifications are made to the metadata, then the user
         should call metadata.to_rda() first.
 
         :param input_data: The source from which to generate tables. Needs to be either
         MicroData or TableData.
         :param tables: The tables to be generated. Can be omitted if input_data is TableData.
         :param metadata: The metadata of input_data. If omitted, it will be derived from input_data.
+        :param linked_suppress_method: Method to use for linked suppression.
+        Options are:
+        - `GHMITER` ("GH"): Hypercube
+        - `MODULAR` ("MOD"): Modular
+        Warning: The Tau-Argus manual doesn't document this. Therefore, usage is not recommended.
+        :param linked_suppress_method_args: Parameters to pass to suppress_method.
         :param directory: Where to write tau-argus files.
         :param name: Name from which to derive the name of some temporary files.
         :param logbook: Whether this job should create its own logging file.
         :param interactive: Whether the gui should be opened.
-        :param setup: Whether to set up the job inmediately. (required before run).
+        :param setup: Whether to set up the job immediately. (required before run).
         """
 
         if tables is None and isinstance(input_data, TableData):
             tables = [input_data]
 
         self._tmp_directory = None  # Will be used if directory is temporary
         self.directory = directory
         self.input_data = input_data
         self.tables = tables
         self.metadata = metadata
+        self.linked_suppress_method = linked_suppress_method
+        self.linked_suppress_method_args = linked_suppress_method_args
         self.name = name
         self.logbook = logbook
         self.interactive = interactive
 
         if setup:
             self.setup()
 
@@ -95,23 +102,23 @@
     @input_data.setter
     def input_data(self, value):
         if not isinstance(value, InputData):
             raise TypeError("Input needs to be MicroData or TableData")
         self._input_data = value
 
     @property
-    def tables(self) -> TableSet:
+    def tables(self) -> Mapping[Hashable, Table]:
         return self._tables
 
     @tables.setter
     def tables(self, value):
-        if not isinstance(value, TableSet):
-            value = TableSet(value)
+        if not isinstance(value, Mapping):
+            value = {f"table-{t}": table for t, table in enumerate(value, 1)}
 
-        self._tables = TableSet(value)
+        self._tables = value
 
     @property
     def batch_filepath(self):
         return self.directory / f'{self.name}.arb'
 
     @property
     def logbook_filepath(self):
@@ -200,25 +207,25 @@
             if isinstance(self.input_data, Table):
                 writer.open_tabledata(self.input_data)
             else:
                 writer.open_microdata(self.input_data)
 
             writer.open_metadata(self.metadata)
 
-            for table in self.tables:
+            for table in self.tables.values():
                 writer.specify_table(table.explanatory, table.response, table.shadow, table.cost,
                                      table.labda)
                 writer.safety_rule(table.safety_rule)
 
             if isinstance(self.input_data, Table):
                 writer.read_table()
             else:
                 writer.read_microdata()
 
-            for t_index, table in enumerate(self.tables, 1):
+            for t_index, table in enumerate(self.tables.values(), 1):
                 if table.apriori:
                     writer.apriori(
                         table.apriori,
                         t_index,
                         separator=table.apriori.separator,
                         ignore_error=table.apriori.ignore_error,
                         expand_trivial=table.apriori.expand_trivial,
@@ -227,26 +234,26 @@
                 for variable, recode in table.recodes.items():
                     writer.recode(t_index, variable, recode)
 
                 if table.suppress_method:
                     writer.suppress(table.suppress_method, t_index, *table.suppress_method_args)
 
             # Linked suppression
-            if self.tables.suppress_method:
-                writer.suppress(self.tables.suppress_method, 0, *self.tables.suppress_method_args)
+            if self.linked_suppress_method:
+                writer.suppress(self.linked_suppress_method, 0, *self.linked_suppress_method_args)
 
-            for t_index, table in enumerate(self.tables, 1):
+            for t_index, table in enumerate(self.tables.values(), 1):
                 writer.write_table(t_index, 2, {"AS": True}, str(table.filepath_out))
 
             if self.interactive:
                 writer.go_interactive()
 
     def check(self):
         problems = []
-        for table in self.tables:
+        for table in self.tables.values():
             for var in table.find_variables():
                 if var not in self.input_data.dataset.columns:
                     problems.append(f"Variable {var} not present in input_data")
                 elif self.metadata is not None:
                     if var not in self.metadata:
                         problems.append(f"Variable {var} not present in metadata.")
```

## Comparing `piargus-0.3.0.dist-info/LICENSE` & `piargus-0.4.0.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `piargus-0.3.0.dist-info/METADATA` & `piargus-0.4.0.dist-info/METADATA`

 * *Files 4% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: piargus
-Version: 0.3.0
+Version: 0.4.0
 Summary: Python wrapper around TauArgus
 Home-page: https://github.com/lverweijen/piargus
 Author: lverweijen
 Author-email: lauwerund@gmail.com
 License: Apache License 2.0
 Keywords: statistical-disclosure-control tau-argus
 Classifier: License :: OSI Approved :: Apache Software License
```

