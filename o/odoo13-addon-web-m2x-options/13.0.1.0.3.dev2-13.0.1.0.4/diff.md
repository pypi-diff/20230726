# Comparing `tmp/odoo13_addon_web_m2x_options-13.0.1.0.3.dev2-py3-none-any.whl.zip` & `tmp/odoo13_addon_web_m2x_options-13.0.1.0.4-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,33 +1,33 @@
-Zip file size: 42887 bytes, number of entries: 31
--rw-r--r--  2.0 unx     7340 b- defN 21-Feb-18 06:08 odoo/addons/web_m2x_options/README.rst
--rw-r--r--  2.0 unx       21 b- defN 21-Feb-18 06:08 odoo/addons/web_m2x_options/__init__.py
--rw-r--r--  2.0 unx      527 b- defN 21-Feb-18 06:08 odoo/addons/web_m2x_options/__manifest__.py
--rw-r--r--  2.0 unx     2859 b- defN 21-Feb-18 06:08 odoo/addons/web_m2x_options/i18n/ar.po
--rw-r--r--  2.0 unx     3073 b- defN 21-Feb-18 06:08 odoo/addons/web_m2x_options/i18n/de.po
--rw-r--r--  2.0 unx     2989 b- defN 21-Feb-18 06:08 odoo/addons/web_m2x_options/i18n/es.po
--rw-r--r--  2.0 unx     2733 b- defN 21-Feb-18 06:08 odoo/addons/web_m2x_options/i18n/fi.po
--rw-r--r--  2.0 unx     3025 b- defN 21-Feb-18 06:08 odoo/addons/web_m2x_options/i18n/fr.po
--rw-r--r--  2.0 unx     2998 b- defN 21-Feb-18 06:08 odoo/addons/web_m2x_options/i18n/hr.po
--rw-r--r--  2.0 unx     2738 b- defN 21-Feb-18 06:08 odoo/addons/web_m2x_options/i18n/it.po
--rw-r--r--  2.0 unx     3033 b- defN 21-Feb-18 06:08 odoo/addons/web_m2x_options/i18n/nl_NL.po
--rw-r--r--  2.0 unx     3094 b- defN 21-Feb-18 06:08 odoo/addons/web_m2x_options/i18n/pt_BR.po
--rw-r--r--  2.0 unx     2802 b- defN 21-Feb-18 06:08 odoo/addons/web_m2x_options/i18n/sl.po
--rw-r--r--  2.0 unx     2744 b- defN 21-Feb-18 06:08 odoo/addons/web_m2x_options/i18n/tr.po
--rw-r--r--  2.0 unx     2369 b- defN 21-Feb-18 06:08 odoo/addons/web_m2x_options/i18n/web_m2x_options.pot
--rw-r--r--  2.0 unx     2805 b- defN 21-Feb-18 06:08 odoo/addons/web_m2x_options/i18n/zh_CN.po
--rw-r--r--  2.0 unx       34 b- defN 21-Feb-18 06:08 odoo/addons/web_m2x_options/models/__init__.py
--rw-r--r--  2.0 unx      468 b- defN 21-Feb-18 06:08 odoo/addons/web_m2x_options/models/ir_config_parameter.py
--rw-r--r--  2.0 unx      481 b- defN 21-Feb-18 06:08 odoo/addons/web_m2x_options/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx      527 b- defN 21-Feb-18 06:08 odoo/addons/web_m2x_options/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx      755 b- defN 21-Feb-18 06:08 odoo/addons/web_m2x_options/readme/ROADMAP.rst
--rw-r--r--  2.0 unx     3049 b- defN 21-Feb-18 06:08 odoo/addons/web_m2x_options/readme/USAGE.rst
--rw-r--r--  2.0 unx     9455 b- defN 21-Feb-18 06:08 odoo/addons/web_m2x_options/static/description/icon.png
--rw-r--r--  2.0 unx    11513 b- defN 21-Feb-18 06:08 odoo/addons/web_m2x_options/static/description/index.html
--rw-r--r--  2.0 unx    20858 b- defN 21-Feb-18 06:08 odoo/addons/web_m2x_options/static/src/js/form.js
--rw-r--r--  2.0 unx      483 b- defN 21-Feb-18 06:08 odoo/addons/web_m2x_options/static/src/xml/base.xml
--rw-r--r--  2.0 unx      388 b- defN 21-Feb-18 06:08 odoo/addons/web_m2x_options/views/view.xml
--rw-r--r--  2.0 unx     7847 b- defN 21-Feb-18 06:09 odoo13_addon_web_m2x_options-13.0.1.0.3.dev2.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 21-Feb-18 06:09 odoo13_addon_web_m2x_options-13.0.1.0.3.dev2.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 21-Feb-18 06:09 odoo13_addon_web_m2x_options-13.0.1.0.3.dev2.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     3136 b- defN 21-Feb-18 06:09 odoo13_addon_web_m2x_options-13.0.1.0.3.dev2.dist-info/RECORD
-31 files, 104241 bytes uncompressed, 37635 bytes compressed:  63.9%
+Zip file size: 42951 bytes, number of entries: 31
+-rw-r--r--  2.0 unx     7394 b- defN 23-Jul-26 06:07 odoo/addons/web_m2x_options/README.rst
+-rw-r--r--  2.0 unx       21 b- defN 23-Jul-26 06:07 odoo/addons/web_m2x_options/__init__.py
+-rw-r--r--  2.0 unx      527 b- defN 23-Jul-26 06:07 odoo/addons/web_m2x_options/__manifest__.py
+-rw-r--r--  2.0 unx     2859 b- defN 23-Jul-26 06:07 odoo/addons/web_m2x_options/i18n/ar.po
+-rw-r--r--  2.0 unx     3073 b- defN 23-Jul-26 06:07 odoo/addons/web_m2x_options/i18n/de.po
+-rw-r--r--  2.0 unx     2989 b- defN 23-Jul-26 06:07 odoo/addons/web_m2x_options/i18n/es.po
+-rw-r--r--  2.0 unx     2733 b- defN 23-Jul-26 06:07 odoo/addons/web_m2x_options/i18n/fi.po
+-rw-r--r--  2.0 unx     3025 b- defN 23-Jul-26 06:07 odoo/addons/web_m2x_options/i18n/fr.po
+-rw-r--r--  2.0 unx     2998 b- defN 23-Jul-26 06:07 odoo/addons/web_m2x_options/i18n/hr.po
+-rw-r--r--  2.0 unx     2738 b- defN 23-Jul-26 06:07 odoo/addons/web_m2x_options/i18n/it.po
+-rw-r--r--  2.0 unx     3033 b- defN 23-Jul-26 06:07 odoo/addons/web_m2x_options/i18n/nl_NL.po
+-rw-r--r--  2.0 unx     3094 b- defN 23-Jul-26 06:07 odoo/addons/web_m2x_options/i18n/pt_BR.po
+-rw-r--r--  2.0 unx     2802 b- defN 23-Jul-26 06:07 odoo/addons/web_m2x_options/i18n/sl.po
+-rw-r--r--  2.0 unx     2744 b- defN 23-Jul-26 06:07 odoo/addons/web_m2x_options/i18n/tr.po
+-rw-r--r--  2.0 unx     2369 b- defN 23-Jul-26 06:07 odoo/addons/web_m2x_options/i18n/web_m2x_options.pot
+-rw-r--r--  2.0 unx     2805 b- defN 23-Jul-26 06:07 odoo/addons/web_m2x_options/i18n/zh_CN.po
+-rw-r--r--  2.0 unx       34 b- defN 23-Jul-26 06:07 odoo/addons/web_m2x_options/models/__init__.py
+-rw-r--r--  2.0 unx      468 b- defN 23-Jul-26 06:07 odoo/addons/web_m2x_options/models/ir_config_parameter.py
+-rw-r--r--  2.0 unx      535 b- defN 23-Jul-26 06:07 odoo/addons/web_m2x_options/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx      527 b- defN 23-Jul-26 06:07 odoo/addons/web_m2x_options/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx      755 b- defN 23-Jul-26 06:07 odoo/addons/web_m2x_options/readme/ROADMAP.rst
+-rw-r--r--  2.0 unx     3049 b- defN 23-Jul-26 06:07 odoo/addons/web_m2x_options/readme/USAGE.rst
+-rw-r--r--  2.0 unx     9455 b- defN 23-Jul-26 06:07 odoo/addons/web_m2x_options/static/description/icon.png
+-rw-r--r--  2.0 unx    11513 b- defN 23-Jul-26 06:07 odoo/addons/web_m2x_options/static/description/index.html
+-rw-r--r--  2.0 unx    20795 b- defN 23-Jul-26 06:07 odoo/addons/web_m2x_options/static/src/js/form.js
+-rw-r--r--  2.0 unx      483 b- defN 23-Jul-26 06:07 odoo/addons/web_m2x_options/static/src/xml/base.xml
+-rw-r--r--  2.0 unx      388 b- defN 23-Jul-26 06:07 odoo/addons/web_m2x_options/views/view.xml
+-rw-r--r--  2.0 unx     7934 b- defN 23-Jul-26 06:07 odoo13_addon_web_m2x_options-13.0.1.0.4.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jul-26 06:07 odoo13_addon_web_m2x_options-13.0.1.0.4.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-Jul-26 06:07 odoo13_addon_web_m2x_options-13.0.1.0.4.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     3116 b- defN 23-Jul-26 06:07 odoo13_addon_web_m2x_options-13.0.1.0.4.dist-info/RECORD
+31 files, 104353 bytes uncompressed, 37739 bytes compressed:  63.8%
```

## zipnote {}

```diff
@@ -75,20 +75,20 @@
 
 Filename: odoo/addons/web_m2x_options/static/src/xml/base.xml
 Comment: 
 
 Filename: odoo/addons/web_m2x_options/views/view.xml
 Comment: 
 
-Filename: odoo13_addon_web_m2x_options-13.0.1.0.3.dev2.dist-info/METADATA
+Filename: odoo13_addon_web_m2x_options-13.0.1.0.4.dist-info/METADATA
 Comment: 
 
-Filename: odoo13_addon_web_m2x_options-13.0.1.0.3.dev2.dist-info/WHEEL
+Filename: odoo13_addon_web_m2x_options-13.0.1.0.4.dist-info/WHEEL
 Comment: 
 
-Filename: odoo13_addon_web_m2x_options-13.0.1.0.3.dev2.dist-info/top_level.txt
+Filename: odoo13_addon_web_m2x_options-13.0.1.0.4.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo13_addon_web_m2x_options-13.0.1.0.3.dev2.dist-info/RECORD
+Filename: odoo13_addon_web_m2x_options-13.0.1.0.4.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/web_m2x_options/README.rst

```diff
@@ -173,14 +173,15 @@
 * Yannick Vaucher <yannick.vaucher@camptocamp.com>
 * Zakaria Makrelouf <z.makrelouf@gmail.com>
 * `Tecnativa <https://www.tecnativa.com>`_:
 
   * Jairo Llopis <jairo.llopis@tecnativa.com>
   * David Vidal <david.vidal@tecnativa.com>
   * Ernesto Tejeda <ernesto.tejeda87@gmail.com>
+  * Alexandre D. Díaz <alexandre.diaz@tecnativa.com>
 * Bhavesh Odedra <bodedra@opensourceintegrators.com>
 
 Maintainers
 ~~~~~~~~~~~
 
 This module is maintained by the OCA.
```

### encoding

```diff
@@ -1 +1 @@
-us-ascii
+utf-8
```

## odoo/addons/web_m2x_options/__manifest__.py

```diff
@@ -1,15 +1,15 @@
 # Copyright 2015 0k.io
 # Copyright 2016 ACSONE SA/NV
 # Copyright 2017 Tecnativa
 # License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl).
 
 {
     "name": "web_m2x_options",
-    "version": "13.0.1.0.2",
+    "version": "13.0.1.0.4",
     "category": "Web",
     "author": "ACSONE SA/NV, "
     "0k.io, "
     "Tecnativa, "
     "Odoo Community Association (OCA)",
     "website": "https://github.com/OCA/web",
     "license": "AGPL-3",
```

## odoo/addons/web_m2x_options/readme/CONTRIBUTORS.rst

```diff
@@ -5,8 +5,9 @@
 * Yannick Vaucher <yannick.vaucher@camptocamp.com>
 * Zakaria Makrelouf <z.makrelouf@gmail.com>
 * `Tecnativa <https://www.tecnativa.com>`_:
 
   * Jairo Llopis <jairo.llopis@tecnativa.com>
   * David Vidal <david.vidal@tecnativa.com>
   * Ernesto Tejeda <ernesto.tejeda87@gmail.com>
+  * Alexandre D. Díaz <alexandre.diaz@tecnativa.com>
 * Bhavesh Odedra <bodedra@opensourceintegrators.com>
```

### encoding

```diff
@@ -1 +1 @@
-us-ascii
+utf-8
```

## odoo/addons/web_m2x_options/static/src/js/form.js

### js-beautify {}

```diff
@@ -1,32 +1,38 @@
 /* Copyright 2016 0k.io,ACSONE SA/NV
- *  * License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl). */
+ * Copyright 2022 Tecnativa - Alexandre D. Díaz
+ * License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl). */
 
 odoo.define("web_m2x_options.web_m2x_options", function(require) {
     "use strict";
 
-    var core = require("web.core"),
+    const core = require("web.core"),
         data = require("web.data"),
         Dialog = require("web.Dialog"),
         view_dialogs = require("web.view_dialogs"),
         relational_fields = require("web.relational_fields"),
         rpc = require("web.rpc");
 
-    var _t = core._t,
+    const _t = core._t,
         FieldMany2ManyTags = relational_fields.FieldMany2ManyTags,
         FieldMany2One = relational_fields.FieldMany2One,
         FormFieldMany2ManyTags = relational_fields.FormFieldMany2ManyTags;
 
-    var web_m2x_options = rpc.query({
+    // Launch the query ASAP
+    const web_m2x_options = rpc.query({
         model: "ir.config_parameter",
         method: "get_web_m2x_options",
     });
 
-    var M2ODialog = Dialog.extend({
+    /**
+     * Cloned from web/static/src/js/fields/relational_fields.js
+     */
+    const M2ODialog = Dialog.extend({
         template: "M2ODialog",
+
         init: function(parent, name, value) {
             this.name = name;
             this.value = value;
             this._super(parent, {
                 title: _.str.sprintf(_t("Create a %s"), this.name),
                 size: "medium",
                 buttons: [{
@@ -54,14 +60,15 @@
                     },
                 }, {
                     text: _t("Cancel"),
                     close: true,
                 }, ],
             });
         },
+
         start: function() {
             this.$("p").text(
                 _.str.sprintf(
                     _t(
                         "You are creating a new %s, are you sure it does not exist yet?"
                     ),
                     this.name
@@ -85,129 +92,145 @@
                 this.trigger_up("closed_unset");
             }
             this._super.apply(this, arguments);
         },
     });
 
     FieldMany2One.include({
+        /**
+         * @override
+         */
+        init: function() {
+            this.ir_options = {};
+            return this._super.apply(this, arguments);
+        },
+
+        /**
+         * @override
+         */
         start: function() {
-            this._super.apply(this, arguments);
-            return this.get_options();
+            return this._super.apply(this, arguments).then(() => this.get_options());
         },
 
+        /**
+         * @returns {Promise}
+         */
         get_options: function() {
-            var self = this;
-            if (_.isUndefined(this.ir_options_loaded)) {
-                this.ir_options_loaded = $.Deferred();
-                this.ir_options = {};
-                web_m2x_options.then(function(records) {
-                    _(records).each(function(record) {
-                        self.ir_options[record.key] = record.value;
-                    });
-                    self.ir_options_loaded.resolve();
+            if (_.isEmpty(this.ir_options)) {
+                return web_m2x_options.then(records => {
+                    for (const record of records) {
+                        this.ir_options[record.key] = record.value;
+                    }
                 });
             }
-            return $.when();
+            return Promise.resolve();
         },
 
+        /**
+         * @param {String/Boolean/Undefined} option
+         * @returns {Boolean}
+         */
         is_option_set: function(option) {
-            if (_.isUndefined(option)) return false;
-            if (typeof option === "string")
-                return option === "true" || option === "True";
-            if (typeof option === "boolean") return option;
+            if (typeof option === "string") {
+                return option.toLowerCase() === "true";
+            } else if (typeof option === "boolean") {
+                return option;
+            }
             return false;
         },
 
+        /**
+         * @override
+         */
         _onInputFocusout: function() {
-            var m2o_dialog_opt =
+            const m2o_dialog_opt =
                 this.is_option_set(this.nodeOptions.m2o_dialog) ||
                 (_.isUndefined(this.nodeOptions.m2o_dialog) &&
                     this.is_option_set(
                         this.ir_options["web_m2x_options.m2o_dialog"]
                     )) ||
                 (_.isUndefined(this.nodeOptions.m2o_dialog) &&
                     _.isUndefined(this.ir_options["web_m2x_options.m2o_dialog"]));
             if (this.can_create && this.floating && m2o_dialog_opt) {
                 new M2ODialog(this, this.string, this.$input.val()).open();
             }
         },
 
+        /**
+         * @override
+         */
         _search: function(search_val) {
-            var self = this;
-            if (search_val === undefined) {
+            if (!search_val) {
                 return this._super.apply(this, arguments);
             }
-            var def = new Promise(resolve => {
+            const def = new Promise(resolve => {
                 // Add options limit used to change number of selections record
                 // returned.
-                if (!_.isUndefined(self.ir_options["web_m2x_options.limit"])) {
-                    this.limit = parseInt(self.ir_options["web_m2x_options.limit"], 10);
+                if (!_.isUndefined(this.ir_options["web_m2x_options.limit"])) {
+                    this.limit = parseInt(this.ir_options["web_m2x_options.limit"], 10);
                 }
 
-                if (typeof self.nodeOptions.limit === "number") {
-                    self.limit = self.nodeOptions.limit;
+                if (typeof this.nodeOptions.limit === "number") {
+                    this.limit = this.nodeOptions.limit;
                 }
 
                 // Add options field_color and colors to color item(s) depending on field_color value
-                self.field_color = self.nodeOptions.field_color;
-                self.colors = self.nodeOptions.colors;
+                this.field_color = this.nodeOptions.field_color;
+                this.colors = this.nodeOptions.colors;
 
-                var context = self.record.getContext(self.recordParams);
-                var domain = self.record.getDomain(self.recordParams);
+                const context = this.record.getContext(this.recordParams);
+                const domain = this.record.getDomain(this.recordParams);
 
-                var blacklisted_ids = self._getSearchBlacklist();
+                const blacklisted_ids = this._getSearchBlacklist();
                 if (blacklisted_ids.length > 0) {
                     domain.push(["id", "not in", blacklisted_ids]);
                 }
 
-                self._rpc({
-                    model: self.field.relation,
+                this._rpc({
+                    model: this.field.relation,
                     method: "name_search",
                     kwargs: {
                         name: search_val,
                         args: domain,
                         operator: "ilike",
-                        limit: self.limit + 1,
+                        limit: this.limit + 1,
                         context: context,
                     },
                 }).then(result => {
                     // Possible selections for the m2o
-                    var values = _.map(result, x => {
-                        x[1] = self._getDisplayName(x[1]);
+                    let values = _.map(result, x => {
+                        x[1] = this._getDisplayName(x[1]);
                         return {
                             label: _.str.escapeHTML(x[1].trim()) || data.noDisplayContent,
                             value: x[1],
                             name: x[1],
                             id: x[0],
                         };
                     });
 
                     // Search result value colors
-                    if (self.colors && self.field_color) {
-                        var value_ids = [];
-                        for (var val_index in values) {
-                            value_ids.push(values[val_index].id);
-                        }
-                        self._rpc({
-                            model: self.field.relation,
+                    if (this.colors && this.field_color) {
+                        const value_ids = _.map(values, value => value.id);
+                        this._rpc({
+                            model: this.field.relation,
                             method: "search_read",
-                            fields: [self.field_color],
+                            fields: [this.field_color],
                             domain: [
                                 ["id", "in", value_ids]
                             ],
                         }).then(objects => {
-                            for (var index in objects) {
-                                for (var index_value in values) {
+                            for (const index in objects) {
+                                for (const index_value in values) {
                                     if (values[index_value].id === objects[index].id) {
                                         // Find value in values by comparing ids
-                                        var value = values[index_value];
+                                        const value = values[index_value];
                                         // Find color with field value as key
-                                        var color =
-                                            self.colors[
-                                                objects[index][self.field_color]
+                                        const color =
+                                            this.colors[
+                                                objects[index][this.field_color]
                                             ] || "black";
                                         value.label =
                                             '<span style="color:' +
                                             color +
                                             '">' +
                                             value.label +
                                             "</span>";
@@ -216,249 +239,253 @@
                                 }
                             }
                             resolve(values);
                         });
                     }
 
                     // Search more... if more results that max
-                    var can_search_more =
-                        self.nodeOptions &&
-                        self.is_option_set(self.nodeOptions.search_more),
+                    const can_search_more =
+                        this.nodeOptions &&
+                        this.is_option_set(this.nodeOptions.search_more),
                         search_more_undef =
-                        _.isUndefined(self.nodeOptions.search_more) &&
+                        _.isUndefined(this.nodeOptions.search_more) &&
                         _.isUndefined(
-                            self.ir_options["web_m2x_options.search_more"]
+                            this.ir_options["web_m2x_options.search_more"]
                         ),
-                        search_more = self.is_option_set(
-                            self.ir_options["web_m2x_options.search_more"]
+                        search_more = this.is_option_set(
+                            this.ir_options["web_m2x_options.search_more"]
                         );
 
-                    if (values.length > self.limit) {
-                        values = values.slice(0, self.limit);
-                        if (can_search_more || search_more_undef || search_more) {
-                            values.push({
-                                label: _t("Search More..."),
-                                action: function() {
-                                    var prom = [];
-                                    if (search_val !== "") {
-                                        prom = self._rpc({
-                                            model: self.field.relation,
-                                            method: "name_search",
-                                            kwargs: {
-                                                name: search_val,
-                                                args: domain,
-                                                operator: "ilike",
-                                                limit: self.SEARCH_MORE_LIMIT,
-                                                context: context,
-                                            },
-                                        });
-                                    }
-                                    Promise.resolve(prom).then(function(results) {
-                                        var dynamicFilters = [];
-                                        if (results) {
-                                            var ids = _.map(results, function(x) {
-                                                return x[0];
-                                            });
-                                            if (search_val) {
-                                                dynamicFilters = [{
-                                                    description: _.str.sprintf(
-                                                        _t("Quick search: %s"),
-                                                        search_val
-                                                    ),
-                                                    domain: [
-                                                        ["id", "in", ids]
-                                                    ],
-                                                }, ];
-                                            } else {
-                                                dynamicFilters = [];
-                                            }
-                                        }
-                                        self._searchCreatePopup(
-                                            "search",
-                                            false, {},
-                                            dynamicFilters
-                                        );
+                    if (
+                        (values.length > this.limit &&
+                            (can_search_more || search_more_undef)) ||
+                        search_more
+                    ) {
+                        values = values.slice(0, this.limit);
+                        values.push({
+                            label: _t("Search More..."),
+                            action: () => {
+                                let prom = Promise.resolve();
+                                if (search_val) {
+                                    prom = this._rpc({
+                                        model: this.field.relation,
+                                        method: "name_search",
+                                        kwargs: {
+                                            name: search_val,
+                                            args: domain,
+                                            operator: "ilike",
+                                            limit: this.SEARCH_MORE_LIMIT,
+                                            context: context,
+                                        },
                                     });
-                                },
-                                classname: "o_m2o_dropdown_option",
-                            });
-                        }
+                                }
+                                prom.then(results => {
+                                    let dynamicFilters = [];
+                                    if (results) {
+                                        const ids = _.map(results, x => x[0]);
+                                        if (search_val) {
+                                            dynamicFilters = [{
+                                                description: _.str.sprintf(
+                                                    _t("Quick search: %s"),
+                                                    search_val
+                                                ),
+                                                domain: [
+                                                    ["id", "in", ids]
+                                                ],
+                                            }, ];
+                                        }
+                                    }
+                                    this._searchCreatePopup(
+                                        "search",
+                                        false, {},
+                                        dynamicFilters
+                                    );
+                                });
+                            },
+                            classname: "o_m2o_dropdown_option",
+                        });
                     }
 
-                    var create_enabled = self.can_create && !self.nodeOptions.no_create;
+                    const create_enabled =
+                        this.can_create && !this.nodeOptions.no_create;
                     // Quick create
-                    var raw_result = _.map(result, function(x) {
-                        return x[1];
-                    });
-                    var quick_create = self.is_option_set(self.nodeOptions.create),
-                        quick_create_undef = _.isUndefined(self.nodeOptions.create),
+                    const raw_result = _.map(result, x => x[1]);
+                    const quick_create = this.is_option_set(this.nodeOptions.create),
+                        quick_create_undef = _.isUndefined(this.nodeOptions.create),
                         m2x_create_undef = _.isUndefined(
-                            self.ir_options["web_m2x_options.create"]
+                            this.ir_options["web_m2x_options.create"]
                         ),
-                        m2x_create = self.is_option_set(
-                            self.ir_options["web_m2x_options.create"]
+                        m2x_create = this.is_option_set(
+                            this.ir_options["web_m2x_options.create"]
                         );
-                    var show_create =
-                        (!self.nodeOptions && (m2x_create_undef || m2x_create)) ||
-                        (self.nodeOptions &&
+                    const show_create =
+                        (!this.nodeOptions && (m2x_create_undef || m2x_create)) ||
+                        (this.nodeOptions &&
                             (quick_create ||
                                 (quick_create_undef &&
                                     (m2x_create_undef || m2x_create))));
                     if (
                         create_enabled &&
-                        !self.nodeOptions.no_quick_create &&
+                        !this.nodeOptions.no_quick_create &&
                         search_val.length > 0 &&
                         !_.contains(raw_result, search_val) &&
                         show_create
                     ) {
                         values.push({
                             label: _.str.sprintf(
                                 _t('Create "<strong>%s</strong>"'),
                                 $("<span />")
                                 .text(search_val)
                                 .html()
                             ),
-                            action: self._quickCreate.bind(self, search_val),
+                            action: this._quickCreate.bind(this, search_val),
                             classname: "o_m2o_dropdown_option",
                         });
                     }
                     // Create and edit ...
 
-                    var create_edit =
-                        self.is_option_set(self.nodeOptions.create) ||
-                        self.is_option_set(self.nodeOptions.create_edit),
+                    const create_edit =
+                        this.is_option_set(this.nodeOptions.create) ||
+                        this.is_option_set(this.nodeOptions.create_edit),
                         create_edit_undef =
-                        _.isUndefined(self.nodeOptions.create) &&
-                        _.isUndefined(self.nodeOptions.create_edit),
+                        _.isUndefined(this.nodeOptions.create) &&
+                        _.isUndefined(this.nodeOptions.create_edit),
                         m2x_create_edit_undef = _.isUndefined(
-                            self.ir_options["web_m2x_options.create_edit"]
+                            this.ir_options["web_m2x_options.create_edit"]
                         ),
-                        m2x_create_edit = self.is_option_set(
-                            self.ir_options["web_m2x_options.create_edit"]
+                        m2x_create_edit = this.is_option_set(
+                            this.ir_options["web_m2x_options.create_edit"]
                         );
-                    var show_create_edit =
-                        (!self.nodeOptions &&
+                    const show_create_edit =
+                        (!this.nodeOptions &&
                             (m2x_create_edit_undef || m2x_create_edit)) ||
-                        (self.nodeOptions &&
+                        (this.nodeOptions &&
                             (create_edit ||
                                 (create_edit_undef &&
                                     (m2x_create_edit_undef || m2x_create_edit))));
                     if (
                         create_enabled &&
-                        !self.nodeOptions.no_create_edit &&
+                        !this.nodeOptions.no_create_edit &&
                         show_create_edit
                     ) {
-                        var createAndEditAction = function() {
-                            // Clear the value in case the user clicks on discard
-                            self.$("input").val("");
-                            return self._searchCreatePopup(
-                                "form",
-                                false,
-                                self._createContext(search_val)
-                            );
-                        };
                         values.push({
                             label: _t("Create and Edit..."),
-                            action: createAndEditAction,
+                            action: () => {
+                                // Clear the value in case the user clicks on discard
+                                this.$("input").val("");
+                                return this._searchCreatePopup(
+                                    "form",
+                                    false,
+                                    this._createContext(search_val)
+                                );
+                            },
                             classname: "o_m2o_dropdown_option",
                         });
                     } else if (values.length === 0) {
                         values.push({
                             label: _t("No results to show..."),
                         });
                     }
                     // Check if colors specified to wait for RPC
-                    if (!(self.field_color && self.colors)) {
+                    if (!(this.field_color && this.colors)) {
                         resolve(values);
                     }
                 });
             });
             this.orderer.add(def);
             return def;
         },
     });
 
     FieldMany2ManyTags.include({
         events: _.extend({}, FieldMany2ManyTags.prototype.events, {
             "click .badge": "_onOpenBadge",
         }),
 
+        /**
+         * @override
+         */
         _onDeleteTag: function(event) {
-            var result = this._super.apply(this, arguments);
+            const result = this._super.apply(this, arguments);
             event.stopPropagation();
             return result;
         },
 
+        /**
+         * @param {String/Boolean/Undefined} option
+         * @returns {Boolean}
+         */
         is_option_set: function(option) {
-            if (_.isUndefined(option)) return false;
-            if (typeof option === "string")
-                return option === "true" || option === "True";
-            if (typeof option === "boolean") return option;
+            if (typeof option === "string") {
+                return option.toLowerCase() === "true";
+            }
+            if (typeof option === "boolean") {
+                return option;
+            }
             return false;
         },
 
         _onOpenBadge: function(event) {
-            var self = this;
-            var open = self.nodeOptions && self.is_option_set(self.nodeOptions.open);
+            const open = this.nodeOptions && this.is_option_set(this.nodeOptions.open);
             if (open) {
-                var context = self.record.getContext(self.recordParams);
-                var id = parseInt($(event.currentTarget).data("id"), 10);
+                const context = this.record.getContext(this.recordParams);
+                const id = Number($(event.currentTarget).data("id"));
 
-                if (self.mode === "readonly") {
+                if (this.mode === "readonly") {
                     event.preventDefault();
                     event.stopPropagation();
-                    self._rpc({
-                        model: self.field.relation,
+                    this._rpc({
+                        model: this.field.relation,
                         method: "get_formview_action",
                         args: [
                             [id]
                         ],
                         context: context,
-                    }).then(function(action) {
-                        self.trigger_up("do_action", {
+                    }).then(action => {
+                        this.trigger_up("do_action", {
                             action: action
                         });
                     });
                 } else {
-                    $.when(
-                        self._rpc({
-                            model: self.field.relation,
+                    Promise.all([
+                        this._rpc({
+                            model: this.field.relation,
                             method: "get_formview_id",
                             args: [
                                 [id]
                             ],
                             context: context,
                         }),
-                        self._rpc({
-                            model: self.field.relation,
+                        this._rpc({
+                            model: this.field.relation,
                             method: "check_access_rights",
                             kwargs: {
                                 operation: "write",
                                 raise_exception: false
                             },
-                        })
-                    ).then(function(view_id, write_access) {
-                        var can_write =
-                            "can_write" in self.attrs ?
-                            JSON.parse(self.attrs.can_write) :
+                        }),
+                    ]).then((view_id, write_access) => {
+                        const can_write =
+                            "can_write" in this.attrs ?
+                            JSON.parse(this.attrs.can_write) :
                             true;
-                        new view_dialogs.FormViewDialog(self, {
-                            res_model: self.field.relation,
+                        new view_dialogs.FormViewDialog(this, {
+                            res_model: this.field.relation,
                             res_id: id,
                             context: context,
-                            title: _t("Open: ") + self.string,
+                            title: _t("Open: ") + this.string,
                             view_id: view_id,
                             readonly: !can_write || !write_access,
-                            on_saved: function(record, changed) {
+                            on_saved: (record, changed) => {
                                 if (changed) {
-                                    self._setValue(self.value.data, {
+                                    this._setValue(this.value.data, {
                                         forceChange: true,
                                     });
-                                    self.trigger_up("reload", {
-                                        db_id: self.value.id
+                                    this.trigger_up("reload", {
+                                        db_id: this.value.id
                                     });
                                 }
                             },
                         }).open();
                     });
                 }
             }
@@ -467,17 +494,18 @@
 
     FormFieldMany2ManyTags.include({
         events: _.extend({}, FormFieldMany2ManyTags.prototype.events, {
             "click .badge": "_onOpenBadge",
         }),
 
         _onOpenBadge: function(event) {
-            var open = this.is_option_set(this.nodeOptions.open);
-            var no_color_picker = this.is_option_set(this.nodeOptions.no_color_picker);
-            this._super.apply(this, arguments);
+            const open = this.is_option_set(this.nodeOptions.open);
+            const no_color_picker = this.is_option_set(
+                this.nodeOptions.no_color_picker
+            );
             if (!open && !no_color_picker) {
                 this._onOpenColorPicker(event);
             } else {
                 event.preventDefault();
                 event.stopPropagation();
             }
         },
```

## Comparing `odoo13_addon_web_m2x_options-13.0.1.0.3.dev2.dist-info/METADATA` & `odoo13_addon_web_m2x_options-13.0.1.0.4.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,18 +1,19 @@
 Metadata-Version: 2.1
 Name: odoo13-addon-web-m2x-options
-Version: 13.0.1.0.3.dev2
+Version: 13.0.1.0.4
 Summary: web_m2x_options
 Home-page: https://github.com/OCA/web
 Author: ACSONE SA/NV, 0k.io, Tecnativa, Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: AGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
 Classifier: Framework :: Odoo
+Classifier: Framework :: Odoo :: 13.0
 Classifier: License :: OSI Approved :: GNU Affero General Public License v3
 Requires-Python: >=3.5
 Requires-Dist: odoo (<13.1dev,>=13.0a)
 
 ===============
 web_m2x_options
 ===============
@@ -188,14 +189,15 @@
 * Yannick Vaucher <yannick.vaucher@camptocamp.com>
 * Zakaria Makrelouf <z.makrelouf@gmail.com>
 * `Tecnativa <https://www.tecnativa.com>`_:
 
   * Jairo Llopis <jairo.llopis@tecnativa.com>
   * David Vidal <david.vidal@tecnativa.com>
   * Ernesto Tejeda <ernesto.tejeda87@gmail.com>
+  * Alexandre D. Díaz <alexandre.diaz@tecnativa.com>
 * Bhavesh Odedra <bodedra@opensourceintegrators.com>
 
 Maintainers
 ~~~~~~~~~~~
 
 This module is maintained by the OCA.
```

### encoding

```diff
@@ -1 +1 @@
-us-ascii
+utf-8
```

## Comparing `odoo13_addon_web_m2x_options-13.0.1.0.3.dev2.dist-info/RECORD` & `odoo13_addon_web_m2x_options-13.0.1.0.4.dist-info/RECORD`

 * *Files 10% similar despite different names*

```diff
@@ -1,10 +1,10 @@
-odoo/addons/web_m2x_options/README.rst,sha256=6kz-YmF1riVoXm2JISDkaR-_sr7QkfO2QROC0jhfu0Y,7340
+odoo/addons/web_m2x_options/README.rst,sha256=oHSrERo1yHBu_4tUrMhTC7lSs47Nb1F-eCoNb3yc3Ug,7394
 odoo/addons/web_m2x_options/__init__.py,sha256=X9EJGOE2GtZbS0G82PtSXmWSZ_R8jEM0rlJTDliQjp4,21
-odoo/addons/web_m2x_options/__manifest__.py,sha256=HEczAZ49W9H7iIyHUntlAw9oY3EccudVDgDzQAOlgMU,527
+odoo/addons/web_m2x_options/__manifest__.py,sha256=0GUop3tJ2z41JtiJ0GwDhI32rnVwQq_coe4aM08Zho0,527
 odoo/addons/web_m2x_options/i18n/ar.po,sha256=jbIKFUGozx1dfCUZvZx2bzIkgVyzIsfBGxCAAZ4SSRU,2859
 odoo/addons/web_m2x_options/i18n/de.po,sha256=2hx-ACn9veNY4y-P1k8uYX-cvyP7poWqXki78lSYyuA,3073
 odoo/addons/web_m2x_options/i18n/es.po,sha256=gu0t80-huiJHY8hmdGygAtzpn7vn_GB3V4G2xuGreQ0,2989
 odoo/addons/web_m2x_options/i18n/fi.po,sha256=h4-F8iacmu_KxOg-egnvRdc_izZALn0QVzu55V-iYLA,2733
 odoo/addons/web_m2x_options/i18n/fr.po,sha256=RjqEXVptq_1kMz2fPzU8GgKUVf0cwGouSS7buy0UWR0,3025
 odoo/addons/web_m2x_options/i18n/hr.po,sha256=_QYUhAl3T-pUjtgXAixFgLC5YhA8ZrpJ15LO4aOq2V8,2998
 odoo/addons/web_m2x_options/i18n/it.po,sha256=lCwxFSVGQIGx1ufJyi0vpkt4MEmlVTtahPzn5aLFeBM,2738
@@ -12,20 +12,20 @@
 odoo/addons/web_m2x_options/i18n/pt_BR.po,sha256=s7QSF1_BVZ6-ADkS1enmyRCC-fihBHeYwTfvmtbIkA0,3094
 odoo/addons/web_m2x_options/i18n/sl.po,sha256=2QIfxcbJiffHu2wwIp-mwUdsfGxZQc8HCXZau5gtx7s,2802
 odoo/addons/web_m2x_options/i18n/tr.po,sha256=0m8WCGoxHvn2GvS4AupfhauwMJVXXbP3wEG2Vv4T56Y,2744
 odoo/addons/web_m2x_options/i18n/web_m2x_options.pot,sha256=Xqap-sA3HQF_Q95Os2ANQY74aY9I1JlI5wR9rrBABAY,2369
 odoo/addons/web_m2x_options/i18n/zh_CN.po,sha256=7h5cTRlf9VZ2n6C1HbxIf0nz1vd7WKHMTVKPDNoQgUU,2805
 odoo/addons/web_m2x_options/models/__init__.py,sha256=e_Oo9GZ4nnXqYSgScLShUyRb5XCkv03mQUyJ3uB4C0c,34
 odoo/addons/web_m2x_options/models/ir_config_parameter.py,sha256=81OcoEAIdalGkGISxJLTfwyULx1vQjdquSDS_gcpd8Y,468
-odoo/addons/web_m2x_options/readme/CONTRIBUTORS.rst,sha256=ImtuSoGr9pLSkf0niTsJVcdqE1jUMouO8tJI7geWLqA,481
+odoo/addons/web_m2x_options/readme/CONTRIBUTORS.rst,sha256=nXllJEPE387LOTw4gi511U2OhZpgU_tjHIjP5DS3sfU,535
 odoo/addons/web_m2x_options/readme/DESCRIPTION.rst,sha256=j3owbzFrd0NTjXnezBX_avZu8ycvYRDOOOcluGgyr8A,527
 odoo/addons/web_m2x_options/readme/ROADMAP.rst,sha256=ohCpALgRmfxgcyXR34Fvb6M_oM17CbSXGF12faZEKc4,755
 odoo/addons/web_m2x_options/readme/USAGE.rst,sha256=qhGetkuR0YwCwDhQxoZC7xCdZHeG-qF3vBvNktuLilI,3049
 odoo/addons/web_m2x_options/static/description/icon.png,sha256=6xBPJauaFOF0KDHfHgQopSc28kKvxMaeoQFQWZtfZDo,9455
 odoo/addons/web_m2x_options/static/description/index.html,sha256=_qLGQopT-vAJKIFd74tcHvirkKHEByu5ZyJ0rDBByZQ,11513
-odoo/addons/web_m2x_options/static/src/js/form.js,sha256=cA2OWOewuDI-tzmjF2qljiN0eC3j7a3_Ykl1KtJsNvY,20858
+odoo/addons/web_m2x_options/static/src/js/form.js,sha256=GlGgON8ATuw-hprg0GgS0ILjS5Ha12j6CRf3CXKtmOw,20795
 odoo/addons/web_m2x_options/static/src/xml/base.xml,sha256=1y390sP0oWj0k8CFyh3f5lzLiHEp-ycxqohOZNz9-UM,483
 odoo/addons/web_m2x_options/views/view.xml,sha256=29nqhksbSG0Eb9lw-Pga3SsiRhyaGf2LzgyFkfxXPjE,388
-odoo13_addon_web_m2x_options-13.0.1.0.3.dev2.dist-info/METADATA,sha256=0PqKAuYvvhqT8Ctv7LJ1eRdB5U7rSrpJX6o1imKzpqE,7847
-odoo13_addon_web_m2x_options-13.0.1.0.3.dev2.dist-info/WHEEL,sha256=OqRkF0eY5GHssMorFjlbTIq072vpHpF60fIQA6lS9xA,92
-odoo13_addon_web_m2x_options-13.0.1.0.3.dev2.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo13_addon_web_m2x_options-13.0.1.0.3.dev2.dist-info/RECORD,,
+odoo13_addon_web_m2x_options-13.0.1.0.4.dist-info/METADATA,sha256=B0Td9YbTRHXsFaDCOzX3Pt8qnhDO_64WwbEvk_6HZ3U,7934
+odoo13_addon_web_m2x_options-13.0.1.0.4.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+odoo13_addon_web_m2x_options-13.0.1.0.4.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo13_addon_web_m2x_options-13.0.1.0.4.dist-info/RECORD,,
```

