# Comparing `tmp/asimov-0.6.0a3-py2.py3-none-any.whl.zip` & `tmp/asimov-0.6.0b1-py2.py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,59 +1,59 @@
-Zip file size: 94098 bytes, number of entries: 57
--rw-r--r--  2.0 unx     2794 b- defN 23-May-23 15:36 asimov/__init__.py
--rw-r--r--  2.0 unx    32456 b- defN 23-May-23 15:36 asimov/analysis.py
--rw-rw-rw-  2.0 unx      828 b- defN 23-May-23 15:36 asimov/asimov.conf
--rw-r--r--  2.0 unx    11115 b- defN 23-May-23 15:36 asimov/condor.py
--rw-r--r--  2.0 unx     1617 b- defN 23-May-23 15:36 asimov/database.py
--rw-r--r--  2.0 unx    14506 b- defN 23-May-23 15:36 asimov/event.py
--rw-r--r--  2.0 unx    12188 b- defN 23-May-23 15:36 asimov/git.py
--rw-r--r--  2.0 unx     7226 b- defN 23-May-23 15:36 asimov/gitlab.py
--rw-r--r--  2.0 unx     5398 b- defN 23-May-23 15:36 asimov/ini.py
--rw-r--r--  2.0 unx     9868 b- defN 23-May-23 15:36 asimov/ledger.py
--rw-r--r--  2.0 unx     2051 b- defN 23-May-23 15:36 asimov/locutus.py
--rw-r--r--  2.0 unx     7051 b- defN 23-May-23 15:36 asimov/logging.py
--rw-r--r--  2.0 unx     1646 b- defN 23-May-23 15:36 asimov/mattermost.py
--rw-r--r--  2.0 unx     1586 b- defN 23-May-23 15:36 asimov/olivaw.py
--rw-r--r--  2.0 unx    16426 b- defN 23-May-23 15:36 asimov/pipeline.py
--rw-r--r--  2.0 unx     4513 b- defN 23-May-23 15:36 asimov/review.py
--rw-r--r--  2.0 unx    10087 b- defN 23-May-23 15:36 asimov/storage.py
--rw-r--r--  2.0 unx     1156 b- defN 23-May-23 15:36 asimov/testing.py
--rw-r--r--  2.0 unx     3050 b- defN 23-May-23 15:36 asimov/utils.py
--rw-rw-rw-  2.0 unx      395 b- defN 23-May-23 15:36 asimov/cli/__init__.py
--rw-rw-rw-  2.0 unx     7146 b- defN 23-May-23 15:36 asimov/cli/application.py
--rw-rw-rw-  2.0 unx     1175 b- defN 23-May-23 15:36 asimov/cli/configuration.py
--rw-rw-rw-  2.0 unx     1285 b- defN 23-May-23 15:36 asimov/cli/data.py
--rw-rw-rw-  2.0 unx     9096 b- defN 23-May-23 15:36 asimov/cli/event.py
--rw-rw-rw-  2.0 unx        0 b- defN 23-May-23 15:36 asimov/cli/ledger.py
--rw-rw-rw-  2.0 unx    10355 b- defN 23-May-23 15:36 asimov/cli/manage.py
--rw-rw-rw-  2.0 unx    15477 b- defN 23-May-23 15:36 asimov/cli/monitor.py
--rw-rw-rw-  2.0 unx     5606 b- defN 23-May-23 15:36 asimov/cli/production.py
--rw-rw-rw-  2.0 unx     6089 b- defN 23-May-23 15:36 asimov/cli/project.py
--rw-rw-rw-  2.0 unx     5271 b- defN 23-May-23 15:36 asimov/cli/report.py
--rw-rw-rw-  2.0 unx     2817 b- defN 23-May-23 15:36 asimov/cli/review.py
--rw-rw-rw-  2.0 unx       96 b- defN 23-May-23 15:36 asimov/cli/report-theme/body.html
--rw-rw-rw-  2.0 unx      247 b- defN 23-May-23 15:36 asimov/cli/report-theme/footer.html
--rw-rw-rw-  2.0 unx     1467 b- defN 23-May-23 15:36 asimov/cli/report-theme/head.html
--rw-rw-rw-  2.0 unx      841 b- defN 23-May-23 15:36 asimov/cli/report-theme/header.html
--rw-rw-rw-  2.0 unx      220 b- defN 23-May-23 15:36 asimov/configs/README.rst
--rw-rw-rw-  2.0 unx     3004 b- defN 23-May-23 15:36 asimov/configs/bayeswave.ini
--rw-rw-rw-  2.0 unx    14237 b- defN 23-May-23 15:36 asimov/configs/bilby.ini
--rw-rw-rw-  2.0 unx     6291 b- defN 23-May-23 15:36 asimov/configs/lalinference.ini
--rw-rw-rw-  2.0 unx     7586 b- defN 23-May-23 15:36 asimov/configs/rift.ini
--rw-rw-rw-  2.0 unx      772 b- defN 23-May-23 15:36 asimov/pipelines/__init__.py
--rw-rw-rw-  2.0 unx    19726 b- defN 23-May-23 15:36 asimov/pipelines/bayeswave.py
--rw-rw-rw-  2.0 unx    13147 b- defN 23-May-23 15:36 asimov/pipelines/bilby.py
--rw-rw-rw-  2.0 unx     9489 b- defN 23-May-23 15:36 asimov/pipelines/lalinference.py
--rw-rw-rw-  2.0 unx    10853 b- defN 23-May-23 15:36 asimov/pipelines/pesummary.py
--rw-rw-rw-  2.0 unx    17646 b- defN 23-May-23 15:36 asimov/pipelines/rift.py
--rw-rw-rw-  2.0 unx       96 b- defN 23-May-23 15:36 asimov/report-theme/body.html
--rw-rw-rw-  2.0 unx      247 b- defN 23-May-23 15:36 asimov/report-theme/footer.html
--rw-rw-rw-  2.0 unx     1467 b- defN 23-May-23 15:36 asimov/report-theme/head.html
--rw-rw-rw-  2.0 unx      841 b- defN 23-May-23 15:36 asimov/report-theme/header.html
--rw-rw-rw-  2.0 unx      755 b- defN 23-May-23 15:36 asimov-0.6.0a3.dist-info/LICENSE
--rw-r--r--  2.0 unx     1392 b- defN 23-May-23 15:36 asimov-0.6.0a3.dist-info/METADATA
--rw-r--r--  2.0 unx      110 b- defN 23-May-23 15:36 asimov-0.6.0a3.dist-info/WHEEL
--rw-r--r--  2.0 unx      108 b- defN 23-May-23 15:36 asimov-0.6.0a3.dist-info/entry_points.txt
--rw-r--r--  2.0 unx        7 b- defN 23-May-23 15:36 asimov-0.6.0a3.dist-info/top_level.txt
--rw-r--r--  2.0 unx        1 b- defN 23-May-23 15:36 asimov-0.6.0a3.dist-info/zip-safe
--rw-rw-r--  2.0 unx     4547 b- defN 23-May-23 15:36 asimov-0.6.0a3.dist-info/RECORD
-57 files, 325467 bytes uncompressed, 87018 bytes compressed:  73.3%
+Zip file size: 94893 bytes, number of entries: 57
+-rw-r--r--  2.0 unx     2794 b- defN 23-May-31 14:43 asimov/__init__.py
+-rw-r--r--  2.0 unx    36020 b- defN 23-May-31 14:43 asimov/analysis.py
+-rw-rw-rw-  2.0 unx      828 b- defN 23-May-31 14:43 asimov/asimov.conf
+-rw-r--r--  2.0 unx    11117 b- defN 23-May-31 14:43 asimov/condor.py
+-rw-r--r--  2.0 unx     1617 b- defN 23-May-31 14:43 asimov/database.py
+-rw-r--r--  2.0 unx    14386 b- defN 23-May-31 14:43 asimov/event.py
+-rw-r--r--  2.0 unx    12188 b- defN 23-May-31 14:43 asimov/git.py
+-rw-r--r--  2.0 unx     7226 b- defN 23-May-31 14:43 asimov/gitlab.py
+-rw-r--r--  2.0 unx     5398 b- defN 23-May-31 14:43 asimov/ini.py
+-rw-r--r--  2.0 unx     9868 b- defN 23-May-31 14:43 asimov/ledger.py
+-rw-r--r--  2.0 unx     2051 b- defN 23-May-31 14:43 asimov/locutus.py
+-rw-r--r--  2.0 unx     7051 b- defN 23-May-31 14:43 asimov/logging.py
+-rw-r--r--  2.0 unx     1646 b- defN 23-May-31 14:43 asimov/mattermost.py
+-rw-r--r--  2.0 unx     1586 b- defN 23-May-31 14:43 asimov/olivaw.py
+-rw-r--r--  2.0 unx    16426 b- defN 23-May-31 14:43 asimov/pipeline.py
+-rw-r--r--  2.0 unx     4513 b- defN 23-May-31 14:43 asimov/review.py
+-rw-r--r--  2.0 unx    10087 b- defN 23-May-31 14:43 asimov/storage.py
+-rw-r--r--  2.0 unx     1156 b- defN 23-May-31 14:43 asimov/testing.py
+-rw-r--r--  2.0 unx     3051 b- defN 23-May-31 14:43 asimov/utils.py
+-rw-rw-rw-  2.0 unx      395 b- defN 23-May-31 14:43 asimov/cli/__init__.py
+-rw-rw-rw-  2.0 unx     7146 b- defN 23-May-31 14:43 asimov/cli/application.py
+-rw-rw-rw-  2.0 unx     1175 b- defN 23-May-31 14:43 asimov/cli/configuration.py
+-rw-rw-rw-  2.0 unx     1285 b- defN 23-May-31 14:43 asimov/cli/data.py
+-rw-rw-rw-  2.0 unx     9096 b- defN 23-May-31 14:43 asimov/cli/event.py
+-rw-rw-rw-  2.0 unx        0 b- defN 23-May-31 14:43 asimov/cli/ledger.py
+-rw-rw-rw-  2.0 unx    10355 b- defN 23-May-31 14:43 asimov/cli/manage.py
+-rw-rw-rw-  2.0 unx    15573 b- defN 23-May-31 14:43 asimov/cli/monitor.py
+-rw-rw-rw-  2.0 unx     5606 b- defN 23-May-31 14:43 asimov/cli/production.py
+-rw-rw-rw-  2.0 unx     6089 b- defN 23-May-31 14:43 asimov/cli/project.py
+-rw-rw-rw-  2.0 unx     5271 b- defN 23-May-31 14:43 asimov/cli/report.py
+-rw-rw-rw-  2.0 unx     2817 b- defN 23-May-31 14:43 asimov/cli/review.py
+-rw-rw-rw-  2.0 unx       96 b- defN 23-May-31 14:43 asimov/cli/report-theme/body.html
+-rw-rw-rw-  2.0 unx      247 b- defN 23-May-31 14:43 asimov/cli/report-theme/footer.html
+-rw-rw-rw-  2.0 unx     1467 b- defN 23-May-31 14:43 asimov/cli/report-theme/head.html
+-rw-rw-rw-  2.0 unx      841 b- defN 23-May-31 14:43 asimov/cli/report-theme/header.html
+-rw-rw-rw-  2.0 unx      220 b- defN 23-May-31 14:43 asimov/configs/README.rst
+-rw-rw-rw-  2.0 unx     3004 b- defN 23-May-31 14:43 asimov/configs/bayeswave.ini
+-rw-rw-rw-  2.0 unx    14237 b- defN 23-May-31 14:43 asimov/configs/bilby.ini
+-rw-rw-rw-  2.0 unx     6291 b- defN 23-May-31 14:43 asimov/configs/lalinference.ini
+-rw-rw-rw-  2.0 unx     7603 b- defN 23-May-31 14:43 asimov/configs/rift.ini
+-rw-rw-rw-  2.0 unx      772 b- defN 23-May-31 14:43 asimov/pipelines/__init__.py
+-rw-rw-rw-  2.0 unx    19702 b- defN 23-May-31 14:43 asimov/pipelines/bayeswave.py
+-rw-rw-rw-  2.0 unx    13147 b- defN 23-May-31 14:43 asimov/pipelines/bilby.py
+-rw-rw-rw-  2.0 unx     9489 b- defN 23-May-31 14:43 asimov/pipelines/lalinference.py
+-rw-rw-rw-  2.0 unx    10853 b- defN 23-May-31 14:43 asimov/pipelines/pesummary.py
+-rw-rw-rw-  2.0 unx    18335 b- defN 23-May-31 14:43 asimov/pipelines/rift.py
+-rw-rw-rw-  2.0 unx       96 b- defN 23-May-31 14:43 asimov/report-theme/body.html
+-rw-rw-rw-  2.0 unx      247 b- defN 23-May-31 14:43 asimov/report-theme/footer.html
+-rw-rw-rw-  2.0 unx     1467 b- defN 23-May-31 14:43 asimov/report-theme/head.html
+-rw-rw-rw-  2.0 unx      841 b- defN 23-May-31 14:43 asimov/report-theme/header.html
+-rw-rw-rw-  2.0 unx      755 b- defN 23-May-31 14:44 asimov-0.6.0b1.dist-info/LICENSE
+-rw-r--r--  2.0 unx     1392 b- defN 23-May-31 14:44 asimov-0.6.0b1.dist-info/METADATA
+-rw-r--r--  2.0 unx      110 b- defN 23-May-31 14:44 asimov-0.6.0b1.dist-info/WHEEL
+-rw-r--r--  2.0 unx      108 b- defN 23-May-31 14:44 asimov-0.6.0b1.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx        7 b- defN 23-May-31 14:44 asimov-0.6.0b1.dist-info/top_level.txt
+-rw-r--r--  2.0 unx        1 b- defN 23-May-31 14:44 asimov-0.6.0b1.dist-info/zip-safe
+-rw-rw-r--  2.0 unx     4547 b- defN 23-May-31 14:44 asimov-0.6.0b1.dist-info/RECORD
+57 files, 329692 bytes uncompressed, 87813 bytes compressed:  73.4%
```

## zipnote {}

```diff
@@ -144,29 +144,29 @@
 
 Filename: asimov/report-theme/head.html
 Comment: 
 
 Filename: asimov/report-theme/header.html
 Comment: 
 
-Filename: asimov-0.6.0a3.dist-info/LICENSE
+Filename: asimov-0.6.0b1.dist-info/LICENSE
 Comment: 
 
-Filename: asimov-0.6.0a3.dist-info/METADATA
+Filename: asimov-0.6.0b1.dist-info/METADATA
 Comment: 
 
-Filename: asimov-0.6.0a3.dist-info/WHEEL
+Filename: asimov-0.6.0b1.dist-info/WHEEL
 Comment: 
 
-Filename: asimov-0.6.0a3.dist-info/entry_points.txt
+Filename: asimov-0.6.0b1.dist-info/entry_points.txt
 Comment: 
 
-Filename: asimov-0.6.0a3.dist-info/top_level.txt
+Filename: asimov-0.6.0b1.dist-info/top_level.txt
 Comment: 
 
-Filename: asimov-0.6.0a3.dist-info/zip-safe
+Filename: asimov-0.6.0b1.dist-info/zip-safe
 Comment: 
 
-Filename: asimov-0.6.0a3.dist-info/RECORD
+Filename: asimov-0.6.0b1.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## asimov/analysis.py

```diff
@@ -21,18 +21,19 @@
   on all events, including event and simple analyses.
   This type of analysis is useful for defining a population analysis, for example.
 
 """
 import os
 import configparser
 from copy import deepcopy
+import pathlib
 
 from functools import reduce
 import operator
-
+import logging
 from liquid import Liquid
 
 from asimov import config, logger, LOGGER_LEVEL
 from asimov.pipelines import known_pipelines
 from asimov.utils import update
 from asimov.storage import Store
 
@@ -464,43 +465,69 @@
     """
 
     def __init__(self, subject, name, pipeline, status=None, comment=None, **kwargs):
 
         self.event = self.subject = subject
         self.name = name
 
-        self.logger = logger.getChild("event").getChild(f"{self.name}")
+        pathlib.Path(
+            os.path.join(config.get("logging", "directory"), self.event.name, name)
+        ).mkdir(parents=True, exist_ok=True)
+        logfile = os.path.join(
+            config.get("logging", "directory"), self.event.name, name, "asimov.log"
+        )
+
+        self.logger = logger.getChild("analysis").getChild(
+            f"{self.event.name}/{self.name}"
+        )
         self.logger.setLevel(LOGGER_LEVEL)
 
+        fh = logging.FileHandler(logfile)
+        formatter = logging.Formatter("%(asctime)s - %(message)s", "%Y-%m-%d %H:%M:%S")
+        fh.setFormatter(formatter)
+        self.logger.addHandler(fh)
+
         if status:
             self.status_str = status.lower()
         else:
             self.status_str = "none"
 
         self.meta = deepcopy(self.meta_defaults)
 
         # Start by adding pipeline defaults
         if "pipelines" in self.event.ledger.data:
             if pipeline in self.event.ledger.data["pipelines"]:
                 self.meta = update(
                     self.meta, deepcopy(self.event.ledger.data["pipelines"][pipeline])
                 )
+            else:
+                self.meta = {}
+        else:
+            self.meta = {}
 
-        # if "postprocessing" in self.event.ledger.data:
-        #     self.meta["postprocessing"] = deepcopy(
-        #         self.event.ledger.data["postprocessing"]
-        #     )
+        if "postprocessing" in self.event.ledger.data:
+            self.meta["postprocessing"] = deepcopy(
+                self.event.ledger.data["postprocessing"]
+            )
 
         self.meta = update(self.meta, deepcopy(self.subject.meta))
         if "productions" in self.meta:
             self.meta.pop("productions")
 
         self.meta = update(self.meta, deepcopy(kwargs))
+
+        if "sampler" not in self.meta:
+            self.meta["sampler"] = {}
+
+        if "scheduler" not in self.meta:
+            self.meta["scheduler"] = {}
+        
         self.pipeline = pipeline.lower()
         self.pipeline = known_pipelines[pipeline.lower()](self)
+        
         if "needs" in self.meta:
             self._needs = self.meta.pop("needs")
         else:
             self._needs = []
         if "comment" in kwargs:
             self.comment = kwargs["comment"]
         else:
@@ -810,15 +837,16 @@
 
         dictionary["subjects"] = self.subjects
         dictionary["analyses"] = self._analysis_spec
 
         output = dictionary
 
         return output
-    
+
+
 class GravitationalWaveTransient(SimpleAnalysis):
     """
     A single subject, single pipeline analysis for a gravitational wave transient.
     """
 
     def __init__(self, subject, name, pipeline, **kwargs):
 
@@ -827,14 +855,77 @@
         super().__init__(subject, name, pipeline, **kwargs)
         self._add_missing_parameters()
         self._checks()
 
         self.psds = self._collect_psds()
         self.xml_psds = self._collect_psds(format="xml")
 
+        if "cip jobs" in self.meta:
+            # TODO: Should probably raise a deprecation warning
+            self.meta["sampler"]["cip jobs"] = self.meta["cip jobs"]
+
+        if "scheduler" not in self.meta:
+            self.meta["scheduler"] = {}
+
+        if "likelihood" not in self.meta:
+            self.meta["likelihood"] = {}
+        if "marginalization" not in self.meta["likelihood"]:
+            self.meta["likelihood"]["marginalization"] = {}
+
+        if "data files" not in self.meta["data"]:
+            self.meta["data"]["data files"] = {}
+
+        if "lmax" in self.meta:
+            # TODO: Should probably raise a deprecation warning
+            self.meta["sampler"]["lmax"] = self.meta["lmax"]
+
+        # Check that the upper frequency is included, otherwise calculate it
+        if "quality" in self.meta:
+            if ("maximum frequency" not in self.meta["quality"]) and (
+                "sample rate" in self.meta["likelihood"]
+            ):
+                self.meta["quality"]["maximum frequency"] = {}
+                # Account for the PSD roll-off with the 0.875 factor
+                for ifo in self.meta["interferometers"]:
+                    self.meta["quality"]["maximum frequency"][ifo] = int(
+                        0.875 * self.meta["likelihood"]["sample rate"] / 2
+                    )
+
+
+        if ("quality" in self.meta) and ("event time" in self.meta):
+            if ("segment start" not in self.meta["quality"]) and (
+                "segment length" in self.meta["data"]
+            ):
+                self.meta["likelihood"]["segment start"] = (
+                    self.meta["event time"] - self.meta["data"]["segment length"] + 2
+                )
+                # self.event.meta['likelihood']['segment start'] = self.meta['data']['segment start']
+
+        # Update waveform data
+        if "waveform" not in self.meta:
+            self.logger.info("Didn't find waveform information in the metadata")
+            self.meta["waveform"] = {}
+        if "approximant" in self.meta:
+            self.logger.warn(
+                "Found deprecated approximant information, "
+                "moving to waveform area of ledger"
+            )
+            approximant = self.meta.pop("approximant")
+            self.meta["waveform"]["approximant"] = approximant
+        if "reference frequency" in self.meta["likelihood"]:
+            self.logger.warn(
+                "Found deprecated ref freq information, "
+                "moving to waveform area of ledger"
+            )
+            ref_freq = self.meta["likelihood"].pop("reference frequency")
+            self.meta["waveform"]["reference frequency"] = ref_freq
+
+        # Gather the PSDs for the job
+        self.psds = self._collect_psds()
+        
     def _collect_psds(self, format="ascii"):
         """
         Collect the required psds for this production.
         """
         psds = {}
         # If the PSDs are specifically provided in the ledger,
         # use those.
```

## asimov/condor.py

```diff
@@ -15,14 +15,15 @@
 from asimov import config, logger, LOGGER_LEVEL
 
 UTC = tz.tzutc()
 
 logger = logger.getChild("condor")
 logger.setLevel(LOGGER_LEVEL)
 
+
 def datetime_from_epoch(dt, tzinfo=UTC):
     """Returns the `datetime.datetime` for a given Unix epoch
 
     Parameters
     ----------
     dt : `float`
         a Unix timestamp
@@ -33,14 +34,15 @@
     Returns
     -------
     datetime.datetime
         the datetime that represents the given Unix epoch
     """
     return datetime.datetime.utcfromtimestamp(dt).replace(tzinfo=tzinfo)
 
+
 def submit_job(submit_description):
     """
     Submit a new job to the condor scheduller
     """
 
     hostname_job = htcondor.Submit(submit_description)
```

## asimov/event.py

```diff
@@ -8,17 +8,14 @@
 import subprocess
 
 import networkx as nx
 import yaml
 from ligo.gracedb.rest import GraceDb, HTTPError
 
 from asimov import config, logger, LOGGER_LEVEL
-from asimov.pipelines import known_pipelines
-from asimov.storage import Store
-from asimov.utils import update, diff_dict
 from asimov.analysis import GravitationalWaveTransient
 
 from .git import EventRepo
 
 status_map = {
     "cancelled": "light",
     "finished": "success",
@@ -30,14 +27,15 @@
     "ready": "secondary",
     "wait": "light",
     "stop": "danger",
     "manual": "light",
     "stopped": "light",
 }
 
+
 class DescriptionException(Exception):
     """Exception for event description problems."""
 
     def __init__(self, message, production=None):
         super(DescriptionException, self).__init__(message)
         self.message = message
         self.production = production
```

## asimov/utils.py

```diff
@@ -60,38 +60,39 @@
     return {
         "H1": times_lho[keys_lho[np.argmin(np.abs(keys_lho - time))]],
         "L1": times_llo[keys_llo[np.argmin(np.abs(keys_llo - time))]],
         "V1": virgo,
     }
 
 
-
 def update(d, u, inplace=True):
     """Recursively update a dictionary."""
     if not inplace:
         d = deepcopy(d)
         u = deepcopy(u)
     for k, v in u.items():
         if isinstance(v, collections.abc.Mapping):
             d[k] = update(d.get(k, {}), v)
         else:
             d[k] = v
     return d
 
+
 # The following function adapted from https://stackoverflow.com/a/69908295
 def diff_dict(d1, d2):
     d1_keys = set(d1.keys())
     d2_keys = set(d2.keys())
     shared_keys = d1_keys.intersection(d2_keys)
     shared_deltas = {o: (d1[o], d2[o]) for o in shared_keys if d1[o] != d2[o]}
     added_keys = d2_keys - d1_keys
     added_deltas = {o: (None, d2[o]) for o in added_keys}
     deltas = {**shared_deltas, **added_deltas}
     return parse_deltas(deltas)
 
+
 # The following function adapted from https://stackoverflow.com/a/69908295
 def parse_deltas(deltas: dict):
     res = {}
     for k, v in deltas.items():
         if isinstance(v[0], dict):
             tmp = diff_dict(v[0], v[1])
             if tmp:
```

## asimov/cli/monitor.py

```diff
@@ -1,22 +1,27 @@
 import shutil
 import configparser
 import sys
 import click
 from copy import deepcopy
-import logging
 
 from asimov import condor, config, logger, LOGGER_LEVEL
 from asimov import current_ledger as ledger
 from asimov.cli import ACTIVE_STATES, manage, report
 
 logger = logger.getChild("cli").getChild("monitor")
 logger.setLevel(LOGGER_LEVEL)
 
 
+if sys.version_info < (3, 10):
+    from importlib_metadata import entry_points
+else:
+    from importlib.metadata import entry_points
+
+
 @click.option("--dry-run", "-n", "dry_run", is_flag=True)
 @click.command()
 def start(dry_run):
     """Set up a cron job on condor to monitor the project."""
 
     try:
         minute_expression = config.get("condor", "cron_minute")
@@ -169,15 +174,15 @@
 
                     elif job.status.lower() == "idle":
                         click.echo(
                             "  \t  "
                             + click.style("●", "green")
                             + f" {production.name} is in the queue (condor id: {production.job_id})"
                         )
-                        
+
                     elif job.status.lower() == "running":
                         click.echo(
                             "  \t  "
                             + click.style("●", "green")
                             + f" {production.name} is running (condor id: {production.job_id})"
                         )
                         if "profiling" not in production.meta:
```

## asimov/configs/rift.ini

```diff
@@ -12,16 +12,16 @@
 {%- assign quality = production.meta['quality'] %}
 {%- assign ifos = production.meta['interferometers'] %}
 [analysis]
 ifos={{ production.meta['interferometers'] }}
 engine={{ production.meta['engine'] }}
 nparallel=4
 upload-to-gracedb=False
-singularity={{ config['general']['osg'] }}
-osg= {{ config['general']['osg'] }}
+singularity={{ scheduler['osg'] | default: False }}
+osg={{ scheduler['osg'] | default: False }}
 
 
 [paths]
 webdir={{ config['general']['webroot'] }}/{{ production.event.name }}/{{ production.name }}
 
 
 [input]
```

## asimov/pipelines/bayeswave.py

```diff
@@ -134,25 +134,25 @@
             # "-l", f"{gps_file}",
             f"--trigger-time={gps_time}",
         ]
 
         if "copy frames" in self.production.meta["scheduler"]:
             if self.production.meta["scheduler"]["copy frames"]:
                 command += ["--copy-frames"]
-        
+
         if "osg" in self.production.meta["scheduler"]:
             if self.production.meta["scheduler"]["osg"]:
                 command += ["--transfer-files"]
 
                 if "copy frames" not in self.production.meta['scheduler']:
                     command += ["--osg-deploy"]
                 if "copy frames" in self.production.meta['scheduler']:
                     if not self.production.meta["scheduler"]["copy frames"]:
                         command += ["--osg-deploy"]
-                
+
         command += [
             "-r",
             self.production.rundir,
             ini,
         ]
 
         self.logger.info(" ".join(command))
```

## asimov/pipelines/rift.py

```diff
@@ -184,15 +184,26 @@
         if self.production.get_meta("user"):
             user = self.production.get_meta("user")
         else:
             user = config.get("condor", "user")
             self.production.set_meta("user", user)
 
         os.environ["LIGO_USER_NAME"] = f"{user}"
-        os.environ["LIGO_ACCOUNTING"] = f"{self.production.meta['scheduler']['accounting group']}"
+        os.environ[
+            "LIGO_ACCOUNTING"
+        ] = f"{self.production.meta['scheduler']['accounting group']}"
+
+        if "singularity image" in self.production.meta["scheduler"]:
+            # Collect the correct information for the singularity image
+            os.environ[
+                "SINGULARITY_RIFT_IMAGE"
+            ] = f"{self.production.meta['scheduler']['singularity image']}"
+            os.environ[
+                "SINGULARITY_BASE_EXE_DIR"
+            ] = f"{self.production.meta['scheduler']['singularity base exe directory']}"
 
         try:
             calibration = config.get("general", "calibration")
         except configparser.NoOptionError:
             calibration = "C01"
 
         try:
@@ -261,14 +272,19 @@
                     f"Unable to find the bootstrapping production for {self.production.name}.",
                     issue=self.production.event.issue_object,
                     production=self.production.name,
                 )
 
             command += ["--manual-initial-grid", bootstrap_file]
 
+        if "scheduler" in self.production.meta:
+            if "osg" in self.production.meta["scheduler"]:
+                if self.production.meta["scheduler"]["osg"]:
+                    command += ["--use-osg-file-transfer"]
+
         if dryrun:
             print(" ".join(command))
 
         else:
             self.logger.info(" ".join(command))
 
             with set_directory(self.production.event.work_dir):
```

## Comparing `asimov-0.6.0a3.dist-info/LICENSE` & `asimov-0.6.0b1.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `asimov-0.6.0a3.dist-info/METADATA` & `asimov-0.6.0b1.dist-info/METADATA`

 * *Files 12% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: asimov
-Version: 0.6.0a3
+Version: 0.6.0b1
 Summary: A Python package for managing and interacting with data analysis jobs.
 Home-page: https://git.ligo.org/asimov/asimov
 Author: Daniel Williams
 Author-email: daniel.williams@ligo.org
 License: MIT license
 Keywords: pe,ligo,asimov
 Platform: UNKNOWN
```

## Comparing `asimov-0.6.0a3.dist-info/RECORD` & `asimov-0.6.0b1.dist-info/RECORD`

 * *Files 17% similar despite different names*

```diff
@@ -1,57 +1,57 @@
 asimov/__init__.py,sha256=5vTrPGGI9Dgj0DA2car7qTH-OlJHZg2eKL1dygE683E,2794
-asimov/analysis.py,sha256=FPrnkjhYeM1Szi3HY86rGCW2Hnn2Rlm5RMDmPSq6ew0,32456
+asimov/analysis.py,sha256=ie-NhfO3AOTKNjs-7CZSdxWJ2cESn6TosVKXg-Itp5E,36020
 asimov/asimov.conf,sha256=3bRSX4IbYwf7nygNA5X3YeQVNfW5CdSnRQH5P03xYZw,828
-asimov/condor.py,sha256=CUmpEmC7WIPf5o_U1KLzM7NUF8f29601f1tb2u3uXjE,11115
+asimov/condor.py,sha256=s1Cc0yesswVHinlSFqgZSVaOroL51ITtKO54C3JabVA,11117
 asimov/database.py,sha256=H9jgEoS2GLDMXjkK0d8nBY2ds1bwYUIMDbQmFsHst5U,1617
-asimov/event.py,sha256=-Iq0X8EcCZxG3kG1yszwWxSlgQ3XS6Z4DuYMVaRXFtg,14506
+asimov/event.py,sha256=2qVOHrEcMSIFNxGlw6W1iEVmYEiavH4aJntnZzepz90,14386
 asimov/git.py,sha256=lcFDAKG6NTWRs9QDxZdplc73LIBAwOThDJleHesLCGM,12188
 asimov/gitlab.py,sha256=g5Zg4lSgqAadnf0759wkJchDeSPaJuXTru7CB9a6K9w,7226
 asimov/ini.py,sha256=K3mo8257HpvO0ipX3w1ofmgCN9vEMhvVCi_kupkJzAs,5398
 asimov/ledger.py,sha256=eGDiMIh6czga6ny1RWEJTb_rvcOMDJfk9vGvvopBy6s,9868
 asimov/locutus.py,sha256=XfiDYrIWQunbTKBAE8BadeCikVI63O67EeQ1jWH28Pg,2051
 asimov/logging.py,sha256=HCE_giZgeXAFeDv3AaRSJBxPj20vAVmyN3uqcnpUJOM,7051
 asimov/mattermost.py,sha256=Lp-WwwTJor4Do9Gab4L79mBvQzZ2WAonmfZT9JO6RT4,1646
 asimov/olivaw.py,sha256=ihsBqkpjxuvP6E96W2OxBkrmnCuVQyOiS6TCrMdo428,1586
 asimov/pipeline.py,sha256=GxSPYx7koIDL723_OPWuIvni7QYjWflMFczv_OiScKs,16426
 asimov/review.py,sha256=72Kv9ccK3wMBD_aBDCnX4ozm0BHwTvekz43WNXmeQuQ,4513
 asimov/storage.py,sha256=5IUNyysKFhnhHCj8-J3xX5qDTqnMTsOUKQGmO9_dQsM,10087
 asimov/testing.py,sha256=GHN83ozigC--s0tMH8P_5yaZr-X_elT4-q5sjz0Gu_g,1156
-asimov/utils.py,sha256=1F3vvkla1E8XKnpmM1VUdwrYoL329y2ZesPQ2TSBW_U,3050
+asimov/utils.py,sha256=sE50ZT0n2RdX_TgHDKTAJpJM1gU9Ga9Q_DSSYXCuncI,3051
 asimov/cli/__init__.py,sha256=4fD4aGBcYH0pS-RmtxhijztzZsaXOwfvv8odUJVTxcA,395
 asimov/cli/application.py,sha256=YVJT-3L9qyrlvrxIRfHPtZ6OSMjJdFXC9a9pfmyDfsY,7146
 asimov/cli/configuration.py,sha256=LPuWIWX5MdpTEaLo4z6dCTLBsweqGTXqROtiyLjNPK8,1175
 asimov/cli/data.py,sha256=iYGRdyhFs4h7nUMTb1G3wWtqJpxixSNfUQF813pHujE,1285
 asimov/cli/event.py,sha256=N0u1U_hCQWOOe8tiPZlUs_JFUQCRKZJ25fRXEcplMYo,9096
 asimov/cli/ledger.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 asimov/cli/manage.py,sha256=nwcPkQFCTMFVITGuk43TJP5rSgvSuxtxkhMlcUwXdo0,10355
-asimov/cli/monitor.py,sha256=8IH9G1wpDdA0gr6kTBRXHK0PYZhlxF7F_5xiOuK_Gow,15477
+asimov/cli/monitor.py,sha256=rL-vBeeAepzmqagSFvgApCmpZQtvLcZO0iM5h_GmFJs,15573
 asimov/cli/production.py,sha256=8wysaQimcKOhEJFiHdWetk6U6VB37NItUbQ7a-SNccA,5606
 asimov/cli/project.py,sha256=hJeU5u67wbFCjTDYUhyQmvQJS2-NatDj8-DSYxcWl1c,6089
 asimov/cli/report.py,sha256=yJ0W827EcwJKNu6iPh7hTQWCjpYTcwW1YLzj5nupGnI,5271
 asimov/cli/review.py,sha256=gMT5iGNf4au32mFaoDI70F2yQ3f-we0QaUN3GIlT9zk,2817
 asimov/cli/report-theme/body.html,sha256=_EO2Ce1k6LkoL4t-dhhk7RZ6FPpIlSNO_p0J8EEiycs,96
 asimov/cli/report-theme/footer.html,sha256=DhOISyuw80kVSTy5xy84xIbV-CzLEqYsoZVfwZEiGMc,247
 asimov/cli/report-theme/head.html,sha256=3NZAIpIlraJAx8TsXTfa6VRycLq6JyRiun2TGjdfu64,1467
 asimov/cli/report-theme/header.html,sha256=KRo_10q0HIdXXlM8DYCZqw-JpMf3uFithQRun8qYMJE,841
 asimov/configs/README.rst,sha256=Dyk7Rkf8KZ5hL7dcFOye2EoZjn_dG7RARB7t67u7pk8,220
 asimov/configs/bayeswave.ini,sha256=zfyn_fEwEttyQKuCdPX1-6ZpwRH8B_IDUopHVgnqhNU,3004
 asimov/configs/bilby.ini,sha256=pZLVFmaFH60idxhsVdhISKAIQ5tQmaseMQrOpOF2hgw,14237
 asimov/configs/lalinference.ini,sha256=zjejoT2Hw-up8oAG6NQtdibQjY4TdpMV71bwe8jNBMs,6291
-asimov/configs/rift.ini,sha256=ho0rl1-MvkA8CKEn-a43LaxJa_Kp9c1ZyZh5d2iG6p0,7586
+asimov/configs/rift.ini,sha256=V3G8zpBGpSAVxA_o9N0fLXwA4Qn0WXD5qC_v8d2ZSqk,7603
 asimov/pipelines/__init__.py,sha256=uDIM-nEUDgF_H8dpGW7Y-QqgKQWoFURIuzE0GZpU2OU,772
-asimov/pipelines/bayeswave.py,sha256=d9ivSs06-jJVy7gvBD2wpiSYJbDJzPCGL8xcsEDx3DQ,19726
+asimov/pipelines/bayeswave.py,sha256=41vzY1u7EkEh0mJJjNV4nOscnjfiKypBOxwP8fXUfOY,19702
 asimov/pipelines/bilby.py,sha256=JYTG88cPwmAmdlkIX20mW2Li7XdDKchA7Tb4cucZZyM,13147
 asimov/pipelines/lalinference.py,sha256=bi3k9fcj4K5Vr2HiNV6xS7RSHuTtJ6FJW9cd1G2eyzA,9489
 asimov/pipelines/pesummary.py,sha256=fITdkHl4V_uvimQedQizfvbxlFPSDl3Rw4ww-A0GhFQ,10853
-asimov/pipelines/rift.py,sha256=Gif-2lt_gsNsP3GcKKH8v_T_Hb3Y8ImT8pwRfekvy5M,17646
+asimov/pipelines/rift.py,sha256=PkPbgPzFPl2jEwc4A9Ki2Sn49Kuq9d_CW9jxseCriDk,18335
 asimov/report-theme/body.html,sha256=_EO2Ce1k6LkoL4t-dhhk7RZ6FPpIlSNO_p0J8EEiycs,96
 asimov/report-theme/footer.html,sha256=DhOISyuw80kVSTy5xy84xIbV-CzLEqYsoZVfwZEiGMc,247
 asimov/report-theme/head.html,sha256=3NZAIpIlraJAx8TsXTfa6VRycLq6JyRiun2TGjdfu64,1467
 asimov/report-theme/header.html,sha256=KRo_10q0HIdXXlM8DYCZqw-JpMf3uFithQRun8qYMJE,841
-asimov-0.6.0a3.dist-info/LICENSE,sha256=3OWyNSDNgd5tDbORK72QyJEUBMBVwVUjtcZppOdfrFM,755
-asimov-0.6.0a3.dist-info/METADATA,sha256=q8RpEEy3xa7OHfzli5dSmhHRoC-0cM6ScNpvlwjCZA8,1392
-asimov-0.6.0a3.dist-info/WHEEL,sha256=a-zpFRIJzOq5QfuhBzbhiA1eHTzNCJn8OdRvhdNX0Rk,110
-asimov-0.6.0a3.dist-info/entry_points.txt,sha256=jbTPZwBFpPW3VKNLnjeKb327DPTChpjY4B1IPC3ZDEc,108
-asimov-0.6.0a3.dist-info/top_level.txt,sha256=_R0fwGHM71D6a2YHrKUPX0Z21P8tfW6qn96Xl0MIVHY,7
-asimov-0.6.0a3.dist-info/zip-safe,sha256=AbpHGcgLb-kRsJGnwFEktk7uzpZOCcBY74-YBdrKVGs,1
-asimov-0.6.0a3.dist-info/RECORD,,
+asimov-0.6.0b1.dist-info/LICENSE,sha256=3OWyNSDNgd5tDbORK72QyJEUBMBVwVUjtcZppOdfrFM,755
+asimov-0.6.0b1.dist-info/METADATA,sha256=BiJa7sy2z1bHCLl0YAh-_8yBEqwzBlUw4QZZg_QmYn8,1392
+asimov-0.6.0b1.dist-info/WHEEL,sha256=a-zpFRIJzOq5QfuhBzbhiA1eHTzNCJn8OdRvhdNX0Rk,110
+asimov-0.6.0b1.dist-info/entry_points.txt,sha256=jbTPZwBFpPW3VKNLnjeKb327DPTChpjY4B1IPC3ZDEc,108
+asimov-0.6.0b1.dist-info/top_level.txt,sha256=_R0fwGHM71D6a2YHrKUPX0Z21P8tfW6qn96Xl0MIVHY,7
+asimov-0.6.0b1.dist-info/zip-safe,sha256=AbpHGcgLb-kRsJGnwFEktk7uzpZOCcBY74-YBdrKVGs,1
+asimov-0.6.0b1.dist-info/RECORD,,
```

